(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(103);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},103:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},104:function(e,t,n){},105:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));var a=n(108),r=function(){return{type:"REQUIRE"}},c=function(e){return{type:"MINLENGTH",val:e}},i=function(){return{type:"EMAIL"}},o=function(e,t){var n,r=!0,c=Object(a.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;"REQUIRE"===i.type&&(r=r&&e.trim().length>0),"MINLENGTH"===i.type&&(r=r&&e.trim().length>=i.val),"MAXLENGTH"===i.type&&(r=r&&e.trim().length<=i.val),"MIN"===i.type&&(r=r&&+e>=i.val),"MAX"===i.type&&(r=r&&+e<=i.val),"EMAIL"===i.type&&(r=r&&/^\S+@\S+\.\S+$/.test(e))}}catch(o){c.e(o)}finally{c.f()}return r}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(3),r=n(103),c=n(102),i=n(0),o=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)e.inputs[a]&&(n=a===t.inputId?n&&t.isValid:n&&e.inputs[a].isValid);return Object(c.a)({},e,{inputs:Object(c.a)({},e.inputs,Object(r.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return Object(c.a)({},e,{inputs:t.inputs,isValid:t.formIsValid});default:return e}},u=function(e,t){var n=Object(i.useReducer)(o,{inputs:e,isValid:t}),r=Object(a.a)(n,2),c=r[0],u=r[1];return[c,Object(i.useCallback)((function(e,t,n){u({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(i.useCallback)((function(e,t){u({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},107:function(e,t,n){"use strict";var a=n(3),r=n(102),c=n(0),i=n.n(c),o=n(105),u=(n(109),function(e,t){switch(t.type){case"CHANGE":return Object(r.a)({},e,{value:t.val,isValid:Object(o.d)(t.val,t.validators)});case"TOUCH":return Object(r.a)({},e,{isTouched:!0});default:return e}});t.a=function(e){var t=function(t){f({type:"CHANGE",val:t.target.value,validators:e.validators})},n=function(e){f({type:"TOUCH"})},r={value:e.initailValue||"",isValid:e.initailValid||!1,isTouched:!1},o=Object(c.useReducer)(u,r),l=Object(a.a)(o,2),s=l[0],f=l[1],d=e.id,m=e.onInput,p=s.value,v=s.isValid;Object(c.useEffect)((function(){m(d,p,v)}),[d,p,v,m]);var b="input"===e.element?i.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:t,onBlur:n,value:s.value}):i.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:t,onBlur:n,value:s.value,placeholder:e.placeholder});return i.a.createElement("div",{className:"form-control ".concat(!s.isValid&&s.isTouched&&"form-control--invalid")},i.a.createElement("label",{htmlFor:e.id},e.label),b,!s.isValid&&s.isTouched&&i.a.createElement("p",null,e.errorText))}},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(23);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(a.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw c}}}}},109:function(e,t,n){},111:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(114);t.a=function(e){var t=e.image,n=e.alt,a=e.style,c=e.className,i=e.width;return r.a.createElement("div",{className:"avatar ".concat(c),style:a},r.a.createElement("img",{src:t,alt:n,style:{width:i,height:i}}))}},114:function(e,t,n){},118:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),i=(n(119),n(96));t.a=function(e){var t,n=e.id,o=e.center,u=e.onInput,l=e.errorText,s=Object(r.useState)(),f=Object(a.a)(s,2),d=f[0],m=f[1],p=Object(r.useState)(),v=Object(a.a)(p,2),b=v[0],h=v[1],E=Object(r.useState)(!1),O=Object(a.a)(E,2),y=O[0],j=O[1],g=Object(r.useRef)(),N=y;Object(r.useEffect)((function(){if(d){var e=new FileReader;e.onload=function(){h(e.result)},e.readAsDataURL(d)}}),[d]);return c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{ref:g,id:n,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){e.target.files||1===e.target.files.length?(t=e.target.files[0],m(t),j(!0),N=!0):(j(!1),N=!1),u(n,t,N)}}),c.a.createElement("div",{className:"image-upload ".concat(o&&"center")},c.a.createElement("div",{className:"image-upload__preview"},b&&c.a.createElement("img",{src:b,alt:"Preview"})," ",!b&&c.a.createElement("p",null,"Please pick an image.")),c.a.createElement(i.a,{type:"button",onClick:function(){return g.current.click()}},"PICK IMAGE")),!y&&c.a.createElement("p",null,l))}},119:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),c=n(22),i=n(3),o=n(0),u=n.n(o),l=n(35),s=n(10),f=n(106),d=n(105),m=n(98),p=n(111),v=n(97),b=n(36),h=n(107),E=n(96),O=n(118),y=(n(148),function(e){var t=e.user,n=e.setUser,a=e.notifications,y=Object(o.useContext)(s.a),j=y.userId,g=y.token,N=Object(o.useState)(!1),C=Object(i.a)(N,2),w=C[0],k=C[1],T=Object(o.useState)(!1),x=Object(i.a)(T,2),I=x[0],S=x[1],V=Object(o.useState)(!1),A=Object(i.a)(V,2),P=A[0],_=A[1],R=Object(l.a)(),U=R.isLoading,H=R.error,D=R.sendRequest,F=R.clearError,G=t.name,M=t.image,L=Object(f.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),z=Object(i.a)(L,3),B=z[0],J=z[1],Y=z[2],q=function(){Y(w?{image:{value:null,isValid:!1}}:I?{name:{value:G,isValid:!1}}:{email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1)},Q=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=13;break}return e.prev=1,e.next=4,D("".concat("https://placesharer.herokuapp.com/api","/users/").concat(j),"PATCH",JSON.stringify({name:B.inputs.name.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(g)});case 4:t=e.sent,S(!1),n(t.user),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:e.next=25;break;case 13:return e.prev=13,(a=new FormData).append("image",B.inputs.image.value),e.next=18,D("".concat("https://placesharer.herokuapp.com/api","/users/").concat(j),"PATCH",a,{Authorization:"Bearer ".concat(g)});case 18:c=e.sent,k(!1),n(c.user),e.next=25;break;case 23:e.prev=23,e.t1=e.catch(13);case 25:case"end":return e.stop()}}),e,null,[[1,9],[13,23]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("".concat("https://placesharer.herokuapp.com/api","/users/notifications/").concat(j),"PUT",null,{"Content-Type":"application/json",Authorization:"Bearer ".concat(g)});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"profile fade-in no-select"},U&&u.a.createElement(b.a,null),u.a.createElement(v.a,{error:H,onClear:F}),!U&&u.a.createElement(m.a,{className:"profile__card"},!I&&u.a.createElement(u.a.Fragment,null,w?u.a.createElement(O.a,{center:!0,id:"image",onInput:J,errorText:"Please provide an image"}):u.a.createElement(p.a,{image:M,className:"profile__avatar"}),w&&u.a.createElement(E.a,{inverse:!0,onClick:Q},"Save"),u.a.createElement(E.a,{onClick:function(){k((function(e){return!e})),q()}},w?"Cancel":"Change Image")),!w&&u.a.createElement(u.a.Fragment,null,I?u.a.createElement(h.a,{id:"name",element:"input",type:"text",label:"Your Name",validators:[Object(d.c)()],errorText:"Please enter a valid name",onInput:J}):u.a.createElement("h4",null,G),I&&u.a.createElement(E.a,{inverse:!0,onClick:Q},"Save"),u.a.createElement(E.a,{onClick:function(){S((function(e){return!e})),q()}},I?"Cancel":"Edit Name"))),t&&u.a.createElement("div",{className:"notification-box card"},!P&&u.a.createElement(o.Fragment,null,u.a.createElement("p",null,"Do You Want To Receive E-mail Notifications?"),u.a.createElement(E.a,{onClick:function(){_(!0),X()}},a?"TURN OFF":"TURN ON")),P&&u.a.createElement("p",{className:"fade-in"},"Your notification preference has been changed.")))});n(149),t.default=function(){var e=Object(o.useContext)(s.a).userId,t=Object(o.useState)({}),n=Object(i.a)(t,2),a=n[0],f=n[1],d=Object(o.useState)(),m=Object(i.a)(d,2),p=m[0],v=m[1],b=Object(l.a)().sendRequest;return Object(o.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b("".concat("https://placesharer.herokuapp.com/api","/users/").concat(e));case 3:n=t.sent,f(n.user),v(n.user.notifications),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[b,e]),u.a.createElement(y,{user:a,setUser:f,notifications:p})}},96:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(4);n(101);t.a=function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(c.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,id:e.id},e.children)}},97:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(99),i=n(96);t.a=function(e){var t=e.error,n=e.onClear,a=e.header;return r.a.createElement(c.a,{onCancel:n,header:a||"An Error Occurred!!!",show:!!t,footer:r.a.createElement(i.a,{onClick:n},"Okay")},r.a.createElement("div",null,t))}},98:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(104);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},99:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=(n(100),n(93)),u=n(37),l=function(e){var t=r.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return i.a.createPortal(t,document.getElementById("modal-hook"))};t.a=function(e){return r.a.createElement(a.Fragment,null,e.show&&r.a.createElement(u.a,{onClick:e.onCancel}),r.a.createElement(o.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(l,e)))}}}]);
//# sourceMappingURL=7.81330ef9.chunk.js.map