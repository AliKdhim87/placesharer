{"version":3,"sources":["shared/Util/validators.js","shared/hooks/form-hook.js","shared/component/formElements/Input.js","places/components/CommentForm.js","places/components/Comment.js","places/components/CommentList.js","places/pages/Comments.js","places/components/PlaceItemView.js","places/pages/Place.js","shared/component/formElements/Button.js","shared/component/UIElements/ErrorModal.js","shared/component/UIElements/Card.js","shared/component/UIElements/Modal.js"],"names":["VALIDATOR_REQUIRE","type","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","value","validators","isValid","validator","trim","length","test","formReducer","state","action","formIsValid","inputId","inputs","useFrom","initailInput","initailFormValidity","useReducer","dispatch","useCallback","id","inputData","formValidity","inputReducer","isTouched","Input","props","changeHandeler","event","target","touchHandler","inaialState","initailValue","initailValid","onInput","useEffect","element","placeholder","onChange","onBlur","rows","className","htmlFor","label","errorText","CommentForm","addComment","placeId","auth","useContext","AuthContext","useState","commentText","setCommentText","useHttpClient","isLoading","error","sendRequest","clearError","comment","setFormData","submitHandler","a","preventDefault","process","JSON","stringify","Authorization","token","data","createComment","noValidate","ErrorModal","onClear","LoadingSpinner","isLoggedIn","TextField","style","backgroundColor","borderRadius","e","Button","onClick","Comment","editMode","setEditMode","_id","creator","date","hasRight","userId","useParams","inputHandler","deleteComment","removeComment","updateComment","handleIt","onSubmit","variant","color","disabled","src","image","alt","name","width","height","format","startIcon","size","marginRight","currentMode","CommentList","comments","Fragment","map","key","Comments","setComments","commentsData","getComments","currentComments","commentId","filter","c","title","PlaceItemView","place","address","description","Card","imageUrl","Place","setPlace","placeData","getPlace","Object","keys","href","inverse","danger","children","to","exact","header","onCancel","show","footer","ModalOverlay","content","headerClass","contentClass","footerClass","ReactDOM","createPortal","document","getElementById","Modal","in","mountOnEnter","unmountOnExit","timeout","classNames"],"mappings":"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","file":"static/js/8.fb9c8da6.chunk.js","sourcesContent":["const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid }\r\n        },\r\n        isValid: formIsValid\r\n      };\r\n    case \"SET_DATA\":\r\n      return {\r\n        ...state,\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFrom = (initailInput, initailFormValidity) => {\r\n  const [state, dispatch] = useReducer(formReducer, {\r\n    inputs: initailInput,\r\n    isValid: initailFormValidity\r\n  });\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id\r\n    });\r\n  }, []);\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity\r\n    });\r\n  }, []);\r\n  return [state, inputHandler, setFormData];\r\n};\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { validate } from '../../Util/validators';\r\nimport './Input.css';\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE':\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case 'TOUCH':\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = (props) => {\r\n  const changeHandeler = (event) => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n  const touchHandler = (event) => {\r\n    dispatch({ type: 'TOUCH' });\r\n  };\r\n  const inaialState = {\r\n    value: props.initailValue || '',\r\n    isValid: props.initailValid || false,\r\n    isTouched: false,\r\n  };\r\n  const [state, dispatch] = useReducer(inputReducer, inaialState);\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = state;\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const element =\r\n    props.element === 'input' ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n        placeholder={props.placeholder}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div\r\n      className={`form-control ${\r\n        !state.isValid && state.isTouched && 'form-control--invalid'\r\n      }`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!state.isValid && state.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { useContext, Fragment, useState } from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nimport \"./CommentForm.css\";\r\nexport default function CommentForm({ addComment, placeId }) {\r\n  const auth = useContext(AuthContext);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [state, setFormData] = useFrom(\r\n    {\r\n      comment: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const createComment = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}/comments`,\r\n          \"POST\",\r\n          JSON.stringify({\r\n            comment: commentText,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        addComment(data.comment);\r\n        setFormData(\r\n          {\r\n            comment: {\r\n              value: \"\",\r\n              isValid: false,\r\n            },\r\n          },\r\n          false\r\n        );\r\n        setCommentText(\"\");\r\n      } catch (error) {}\r\n    };\r\n    createComment();\r\n  };\r\n  const commentHandler = (e) => setCommentText(e.target.value);\r\n\r\n  return (\r\n    <div className={`add_comment-container`} noValidate>\r\n      <Fragment>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {isLoading && <LoadingSpinner />}\r\n        {auth.isLoggedIn && (\r\n          <form className=\"comment-form\">\r\n            <TextField\r\n              style={{\r\n                backgroundColor: \"white\",\r\n                borderRadius: \"4px\",\r\n              }}\r\n              label=\"Write your comment here ...\"\r\n              onChange={commentHandler}\r\n            ></TextField>\r\n            <Button id=\"comment-button\" onClick={submitHandler}>\r\n              Add Comment\r\n            </Button>\r\n          </form>\r\n        )}\r\n      </Fragment>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Moment from \"react-moment\";\r\n\r\nimport \"./Comment.css\";\r\n\r\nexport default function Comment(props) {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const { _id, creator, comment, date } = props.comment;\r\n  const { sendRequest } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const hasRight =\r\n    creator && auth && auth.userId && creator._id === auth.userId;\r\n  const placeId = useParams().placeId;\r\n  const [state, inputHandler] = useFrom(\r\n    {\r\n      comment: {\r\n        value: comment,\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const deleteComment = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}/comments/${_id}`,\r\n        \"DELETE\",\r\n        null,\r\n        { Authorization: `Bearer ${auth.token}` }\r\n      );\r\n      props.removeComment(_id);\r\n    } catch {}\r\n  };\r\n\r\n  const editComment = () => {\r\n    setEditMode((currentMode) => !currentMode);\r\n  };\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    const handleIt = async () => {\r\n      try {\r\n        const comment = {\r\n          comment: state.inputs.comment.value,\r\n        };\r\n        await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}/comments/${_id}`,\r\n          \"PATCH\",\r\n          JSON.stringify(comment),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        props.updateComment(_id, comment);\r\n        setEditMode(false);\r\n      } catch (error) {}\r\n    };\r\n    handleIt();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {!editMode ? (\r\n        <div className=\"comment-container row\">\r\n          <div className=\"commenter-info\">\r\n            {creator && (\r\n              <img\r\n                src={creator.image}\r\n                alt={creator.name}\r\n                width=\"60\"\r\n                height=\"60\"\r\n              />\r\n            )}\r\n            <h4>{creator && creator.name}</h4>\r\n\r\n            <Moment className=\"date\" format=\"MMMM Do YYYY, h:mm:ss a\">\r\n              {date}\r\n            </Moment>\r\n          </div>\r\n\r\n          <div className=\"comments-holder\">\r\n            <p>{comment}</p>\r\n          </div>\r\n          <div className=\"btn-holder\">\r\n            {hasRight && (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={deleteComment}\r\n                startIcon={<DeleteIcon />}\r\n                size=\"small\"\r\n                style={{ marginRight: \"10px\" }}\r\n              >\r\n                Delete\r\n              </Button>\r\n            )}\r\n            {hasRight && (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={editComment}\r\n                startIcon={<EditIcon />}\r\n                size=\"small\"\r\n              >\r\n                Edit\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"conatiner\">\r\n          <form className=\"comment-update-form\" onSubmit={submitHandler}>\r\n            <Input\r\n              id=\"comment\"\r\n              element=\"input\"\r\n              label=\"comment\"\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              errorText=\"Please enter a valid message (min. 5 characters).\"\r\n              onInput={inputHandler}\r\n              initailValue={comment}\r\n              initailValid={true}\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              type=\"submit\"\r\n              disabled={!state.isValid}\r\n            >\r\n              Update\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\nimport './CommentList.css';\r\nexport default function CommentList({\r\n  comments,\r\n  removeComment,\r\n  updateComment,\r\n}) {\r\n  return (\r\n    <div>\r\n      {comments && comments.length > 0 ? (\r\n        <React.Fragment>\r\n          <h5 className=\"comments-counter\">\r\n            <span>{comments.length}</span> Comment\r\n            {comments.length === 1 ? ' ' : 's'}\r\n          </h5>\r\n          {comments.map((comment) => (\r\n            <Comment\r\n              key={comment._id}\r\n              comment={comment}\r\n              removeComment={removeComment}\r\n              updateComment={updateComment}\r\n            />\r\n          ))}\r\n        </React.Fragment>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport CommentForm from \"../components/CommentForm\";\r\nimport CommentList from \"../components/CommentList\";\r\n\r\nexport default function Comments({ placeId }) {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [comments, setComments] = useState();\r\n\r\n  useEffect(() => {\r\n    const getComments = async () => {\r\n      try {\r\n        const commentsData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}/comments`\r\n        );\r\n        setComments(commentsData.comments);\r\n      } catch {}\r\n    };\r\n    getComments();\r\n  }, [placeId, sendRequest]);\r\n\r\n  const addComment = (comment) => {\r\n    setComments((currentComments) => [...currentComments, comment]);\r\n  };\r\n\r\n  const removeComment = (commentId) => {\r\n    setComments((currentComments) =>\r\n      currentComments.filter((comment) => comment._id !== commentId)\r\n    );\r\n  };\r\n\r\n  const updateComment = (id, comment) => {\r\n    setComments((currentComments) =>\r\n      currentComments.map((c) => {\r\n        if (c._id === id) {\r\n          const newComment = {\r\n            _id: id,\r\n            creator: { ...c.creator },\r\n            title: comment.title,\r\n            comment: comment.comment,\r\n          };\r\n          return newComment;\r\n        }\r\n        return c;\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {isLoading && <LoadingSpinner />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <CommentForm addComment={addComment} placeId={placeId} />\r\n      {!isLoading && (\r\n        <CommentList\r\n          removeComment={removeComment}\r\n          updateComment={updateComment}\r\n          comments={comments}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './PlaceItem.css';\r\nimport Card from '../../shared/component/UIElements/Card';\r\n\r\nconst PlaceItemView = (props) => {\r\n  const { name, image, title, address, description } = props.place;\r\n  return (\r\n    <div className=\"place-item\">\r\n      <Card className=\"place-item__content detailed-view\">\r\n        <div className=\"place-item__image\">\r\n          <img src={image.imageUrl} alt={name} />\r\n        </div>\r\n        <div className=\"place-item__info\">\r\n          <h2>{title}</h2>\r\n          <h3>{address}</h3>\r\n          <p>{description}</p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaceItemView;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Comments from './Comments';\r\nimport useHttpClient from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/component/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/component/UIElements/LoadingSpinner';\r\nimport PlaceItemView from '../components/PlaceItemView';\r\nimport './Place.css';\r\n\r\nexport default function Place() {\r\n  const [place, setPlace] = useState({});\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const placeId = useParams().placeId;\r\n\r\n  useEffect(() => {\r\n    const getPlace = async () => {\r\n      try {\r\n        const placeData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}`,\r\n        );\r\n        setPlace(placeData.place);\r\n      } catch {}\r\n    };\r\n    getPlace();\r\n  }, [sendRequest, placeId]);\r\n\r\n  return (\r\n    <div className=\"spinner-justify\">\r\n      {isLoading && <LoadingSpinner />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && place && Object.keys(place).length > 0 && (\r\n        <PlaceItemView place={place} />\r\n      )}\r\n      <Comments placeId={placeId} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Button.css';\r\n\r\nconst Button = (props) => {\r\n  if (props.href) {\r\n    return (\r\n      <a\r\n        className={`button button--${props.size || 'default'} ${\r\n          props.inverse && 'button--inverse'\r\n        } ${props.danger && 'button--danger'}`}\r\n        href={props.href}\r\n      >\r\n        {props.children}\r\n      </a>\r\n    );\r\n  }\r\n  if (props.to) {\r\n    return (\r\n      <Link\r\n        to={props.to}\r\n        exact={props.exact}\r\n        className={`button button--${props.size || 'default'} ${\r\n          props.inverse && 'button--inverse'\r\n        } ${props.danger && 'button--danger'}`}\r\n      >\r\n        {props.children}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={`button button--${props.size || 'default'} ${\r\n        props.inverse && 'button--inverse'\r\n      } ${props.danger && 'button--danger'}`}\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n      id={props.id}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport Modal from \"./Modal\";\r\nimport Button from \"../formElements/Button\";\r\n\r\nconst ErrorModal = ({ error, onClear, header }) => {\r\n  return (\r\n    <Modal\r\n      onCancel={onClear}\r\n      header={header || \"An Error Occurred!!!\"}\r\n      show={!!error}\r\n      footer={<Button onClick={onClear}>Okay</Button>}\r\n    >\r\n      <div>{error}</div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return (\r\n    <div className={`card ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { Fragment } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./Modal.css\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport Backdrop from \"./Backdrop\";\r\nconst Modal = props => {\r\n  return (\r\n    <Fragment>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames='modal'\r\n      >\r\n        <ModalOverlay {...props} />\r\n      </CSSTransition>\r\n    </Fragment>\r\n  );\r\n};\r\nconst ModalOverlay = props => {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n      </header>\r\n      <form\r\n        onSubmit={props.onSubmit ? props.onSubmit : e => e.preventDefault()}\r\n      >\r\n        <div className={`modal__content ${props.contentClass}`}>\r\n          {props.children}\r\n        </div>\r\n        <footer className={`modal__footer ${props.footerClass}`}>\r\n          {props.footer}\r\n        </footer>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n};\r\n\r\nexport default Modal;\r\n"],"sourceRoot":""}