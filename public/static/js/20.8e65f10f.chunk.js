(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[20],{119:function(e,t,a){"use strict";var n=a(3),r=a(0),c=a.n(r),l=(a(120),a(96));t.a=function(e){var t,a=e.id,i=e.center,s=e.onInput,u=e.errorText,o=Object(r.useState)(),p=Object(n.a)(o,2),d=p[0],m=p[1],f=Object(r.useState)(),v=Object(n.a)(f,2),b=v[0],E=v[1],g=Object(r.useState)(!1),j=Object(n.a)(g,2),O=j[0],h=j[1],x=Object(r.useRef)(),k=O;Object(r.useEffect)((function(){if(d){var e=new FileReader;e.onload=function(){E(e.result)},e.readAsDataURL(d)}}),[d]);return c.a.createElement("div",{className:"form-control"},c.a.createElement("input",{ref:x,id:a,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){e.target.files||1===e.target.files.length?(t=e.target.files[0],m(t),h(!0),k=!0):(h(!1),k=!1),s(a,t,k)}}),c.a.createElement("div",{className:"image-upload ".concat(i&&"center")},c.a.createElement("div",{className:"image-upload__preview"},b&&c.a.createElement("img",{src:b,alt:"Preview"})," ",!b&&c.a.createElement("p",null,"Please pick an image.")),c.a.createElement(l.a,{type:"button",onClick:function(){return x.current.click()}},"PICK IMAGE")),!O&&c.a.createElement("p",null,u))}},120:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),c=a(22),l=a(39),i=a(3),s=a(0),u=a.n(s),o=a(13),p=(a(140),a(107)),d=a(96),m=a(104),f=a(35),v=a(106),b=a(10),E=a(97),g=a(36),j=a(119),O=a(122),h=a(170);t.default=function(){var e=Object(s.useContext)(b.a),t=Object(f.a)(),a=t.isLoading,n=t.error,x=t.sendRequest,k=t.clearError,y=Object(v.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),P=Object(i.a)(y,2),w=P[0],I=P[1],C=Object(s.useState)([]),T=Object(i.a)(C,2),A=T[0],D=T[1],S=Object(o.g)(),N=function(e){var t=e.target.name,a=e.target.checked;D(a?function(e){return e.includes(t)?e:[].concat(Object(l.a)(e),[t])}:function(e){return e.includes(t)?e.filter((function(e){return e!==t})):e})},V=function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,(n=new FormData).append("title",w.inputs.title.value),n.append("description",w.inputs.description.value),n.append("address",w.inputs.address.value),n.append("creator",e.userId),n.append("image",w.inputs.image.value),n.append("tags",A),t.next=11,x("".concat("https://placesharer.herokuapp.com/api","/places"),"POST",n,{Authorization:"Bearer "+e.token});case 11:S.push("/"),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),R=[];return O.a.forEach((function(e){var t=A.includes(e.name),a=u.a.createElement("span",{key:e.name},u.a.createElement("label",null,u.a.createElement(h.a,{name:e.name,checked:t,onChange:N,inputProps:{"aria-label":"primary checkbox"}}),e.title),u.a.createElement("span",null,"\xa0\xa0"));R.push(a)})),u.a.createElement(s.Fragment,null,u.a.createElement("div",{className:"fade-in"},u.a.createElement(E.a,{error:n,onClear:k}),a&&u.a.createElement(g.a,{asOverlay:!0}),u.a.createElement("form",{className:"place-form no-select",onSubmit:V},u.a.createElement(p.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(m.c)()],errorText:"Please enter a valid title",onInput:I}),u.a.createElement(j.a,{id:"image",onInput:I,errorText:"Please provide an image"}),u.a.createElement(p.a,{id:"description",element:"textarea",type:"text",label:"Description",validators:[Object(m.b)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:I}),u.a.createElement(p.a,{id:"address",element:"input",type:"text",label:"Address",validators:[Object(m.c)()],errorText:"Please enter a valid description address.",onInput:I}),R,u.a.createElement(d.a,{type:"submit",disabled:!w.isValid},"ADD PLACE"))))}}}]);
//# sourceMappingURL=20.8e65f10f.chunk.js.map