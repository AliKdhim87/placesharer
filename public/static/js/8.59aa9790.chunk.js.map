{"version":3,"sources":["shared/component/formElements/Input.js","shared/hooks/form-hook.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","shared/Util/constants.js","shared/component/formElements/ImageUpload.js","users/components/UserProfileNav.js","friends/FriendItem.js","friends/FriendList.js","friends/FriendRequestItem.js","friends/FriendRequestList.js","friends/pages/Friends.js","shared/component/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","users/components/MessageItem.js","users/pages/Messages.js","places/components/BucketListItem.js","places/components/BucketList.js","users/components/UserProfile.js","users/pages/User.js","shared/Util/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["inputReducer","state","action","type","value","val","isValid","validate","validators","isTouched","Input","props","changeHandeler","event","dispatch","target","touchHandler","inaialState","initailValue","initailValid","useReducer","id","onInput","useEffect","element","placeholder","onChange","onBlur","rows","className","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useFrom","initailInput","initailFormValidity","useCallback","inputData","formValidity","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","i","F","s","n","length","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","PLACE_TAG_TITLES","PLACE_TAGS","name","title","ImageUpload","pickedFile","center","useState","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","useRef","fileIsValid","fileReader","FileReader","onload","result","readAsDataURL","ref","style","display","accept","files","src","alt","onClick","current","click","UserProfileNav","userId","useContext","AuthContext","userMenuOpen","setUserMenuOpen","toggleMenu","navBarHeight","height","window","innerHeight","to","FriendItem","user","image","Card","Avatar","FriendList","friends","map","key","ReceivedFriendRequestItem","request","requestId","_id","auth","acceptFriendHandler","cancelFriendHandler","useHttpClient","error","sendRequest","clearError","acceptFriendRequest","userID","a","process","Authorization","token","cancelFriendRequest","console","ErrorModal","onClear","Button","variant","color","FriendRequestList","friendRequests","FriendRequestItem","Friends","setFriends","setFriendRequests","processedRequests","setProcessedRequests","isLoading","getFriends","userData","getFriendRequests","processFriendRequest","prevValue","Map","setMap","mapContainer","zoom","mapboxgl","accessToken","container","on","resize","initializeMap","el","PlaceItem","place","onDeletePlace","showMap","setShowMap","showConfirmModal","setShowConfirmModal","evaluation","setEvaluation","addLikes","setAddLikes","addDislikes","setAddDislike","showTravelWishButton","setShowTravelWishButton","showTick","setShowTick","closeMapHandler","address","description","location","tags","history","useHistory","data","fetchEvaluation","addLikeAndRemoved","isLoggedIn","newData","likes","JSON","stringify","push","addDisLikeAndRemoved","disLike","cancelDeleteHandler","confirmDeleteHandler","addBucketList","users","setUsers","getUsers","checkAdded","find","item","bucketList","filter","Modal","show","onCancel","header","contentClass","footerClass","footer","inverse","danger","imageUrl","includes","tag","Chip","size","creator","role","aria-label","aria-hidden","PlaceList","items","useStyles","makeStyles","theme","root","padding","alignItems","width","input","marginLeft","spacing","flex","iconButton","centerd","justifyContent","end","selectStyle","background","borderRadius","UserPlaces","classes","useParams","places","setPlaces","searchValue","setSearchValue","sortBy","setSortBy","setTags","menuItemValue","setMenuItemValue","getPlaces","join","userWithPlaces","searchPlaces","handleTagChange","tagName","checked","oldTags","tagInputs","forEach","tagInput","FormControlLabel","control","Checkbox","Container","maxWidth","Grid","md","xs","sm","Select","defaultValue","MenuItem","disabled","Paper","component","onSubmit","preventDefault","InputBase","inputProps","IconButton","FormGroup","detetedPlaceId","prevPlaces","MessageItem","msg","messageDeleteHandler","getUserMessages","message","contacts","MessageContext","delMessage","msgId","formatDate","date","Date","toLocaleString","isSent","Messages","setContacts","messagesData","allMessages","setAllMessages","mobileContactMode","setMobileContactMode","textedUser","setTextedUser","myScrollRef","scrollToBottom","scrollIntoView","behavior","inputHandler","fetchContacts","corresponders","sendMessage","corresponderId","messageValue","res","messageId","fetchedMessages","messages","dltCorresponder","filteredContacts","contact","log","deletedMsgId","prevAllMessages","Fragment","LoadingSpinner","asOverlay","corresponder","VALIDATOR_REQUIRE","BucketListItem","bucket","deleteBucket","showDetails","setShowDetails","isVisited","visitStyle","setVisitStyle","closeDetailsHandler","deleteFromBucketList","visitedPlace","fontSize","createdBy","textDecoration","BucketList","userWithBucketList","getBucketList","setUser","getUser","href","encodeURIComponent","flexDirection","index","UserProfile","notifications","editImage","setEditImage","editName","setEditName","notStyle","setNotStyle","email","password","setFormData","switchModelHandler","authSubmitHandler","formData","FormData","append","notificationHandler","currentMode","User","setNotifications","path","exact","withRouter","Users","VALIDATOR_MINLENGTH","VALIDATOR_EMAIL","validator","trim","test","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","source","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/8.59aa9790.chunk.js","sourcesContent":["import React, { useReducer, useEffect } from \"react\";\r\nimport { validate } from \"../../Util/validators\";\r\nimport \"./Input.css\";\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = props => {\r\n  const changeHandeler = event => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n  const touchHandler = event => {\r\n    dispatch({ type: \"TOUCH\" });\r\n  };\r\n  const inaialState = {\r\n    value: props.initailValue || \"\",\r\n    isValid: props.initailValid || false,\r\n    isTouched: false,\r\n  };\r\n  const [state, dispatch] = useReducer(inputReducer, inaialState);\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = state;\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const element =\r\n    props.element === \"input\" ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div className={`form-control ${!state.isValid && state.isTouched && \"form-control--invalid\"}`}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!state.isValid && state.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid }\r\n        },\r\n        isValid: formIsValid\r\n      };\r\n    case \"SET_DATA\":\r\n      return {\r\n        ...state,\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFrom = (initailInput, initailFormValidity) => {\r\n  const [state, dispatch] = useReducer(formReducer, {\r\n    inputs: initailInput,\r\n    isValid: initailFormValidity\r\n  });\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id\r\n    });\r\n  }, []);\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity\r\n    });\r\n  }, []);\r\n  return [state, inputHandler, setFormData];\r\n};\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export const PLACE_TAG_TITLES = {\r\n  'natural': 'Natural',\r\n  'historical': 'Historical',\r\n  'outdoor': 'Outdoor',\r\n  'touristic': 'Touristic',\r\n};\r\n\r\nexport const PLACE_TAGS = [\r\n  { name: 'natural', title: 'Natural' },\r\n  { name: 'historical', title: 'Historical' },\r\n  { name: 'outdoor', title: 'Outdoor' },\r\n  { name: 'touristic', title: 'Touristic'}\r\n];","import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./ImageUpload.css\";\r\nimport Button from \"./Button\";\r\nconst ImageUpload = ({ id, center, onInput, errorText }) => {\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [isValid, setIsValid] = useState(false);\r\n  const filePickerRef = useRef();\r\n  let pickedFile;\r\n  let fileIsValid = isValid;\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickedHandler = (event) => {\r\n    if (event.target.files || event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n    onInput(id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  const pickImageHandler = () => filePickerRef.current.click();\r\n\r\n  return (\r\n    <div className=\"form-control\">\r\n      <input\r\n        ref={filePickerRef}\r\n        id={id}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${center && \"center\"}`}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}{\" \"}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>\r\n          PICK IMAGE\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React, { useContext, Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./UserProfileNav.css\";\r\n\r\nconst UserProfileNav = () => {\r\n  const { userId } = useContext(AuthContext);\r\n  const [userMenuOpen, setUserMenuOpen] = useState(true);\r\n  const toggleMenu = () => {\r\n    setUserMenuOpen(!userMenuOpen);\r\n  };\r\n  const navBarHeight = {\r\n    height: window.innerHeight - 0.11 * window.innerHeight,\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <i\r\n        className={\r\n          userMenuOpen\r\n            ? `fas fa-angle-double-right mobile-hidden-icon desktop-hidden-icon`\r\n            : `fas fa-angle-double-right mobile-icon desktop-hidden-icon`\r\n        }\r\n        onClick={toggleMenu}\r\n      ></i>\r\n      <Card\r\n        className={\r\n          userMenuOpen\r\n            ? `sideBar fade-in `\r\n            : `sideBar mobile-hidden-menu fade-in`\r\n        }\r\n        style={navBarHeight}\r\n      >\r\n        <i\r\n          className=\"fas fa-angle-double-left desktop-hidden-icon\"\r\n          onClick={toggleMenu}\r\n        ></i>\r\n        <Link className=\"navLink\" to={`/${userId}/bucketlist`}>\r\n          <span>My Bucket List</span>\r\n        </Link>\r\n        <Link className=\"navLink\" to={`/${userId}/profile`}>\r\n          <span>Profile</span>\r\n        </Link>\r\n\r\n        <Link className=\"navLink\" to={`/${userId}/friends`}>\r\n          <span>My Friends</span>\r\n        </Link>\r\n        <Link className=\"navLink\" to={`/${userId}/messages`}>\r\n          <span>Messages</span>\r\n        </Link>\r\n      </Card>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserProfileNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../shared/component/UIElements/Avatar\";\r\nimport Card from \"../shared/component/UIElements/Card\";\r\n\r\nconst FriendItem = ({ user: { id, name, image } }) => {\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link className=\"user-holder\" to={`/${id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar image={image} alt={name} />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{name}</h2>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default FriendItem;\r\n","import React from 'react';\r\nimport FriendItem from './FriendItem';\r\nimport Card from '../shared/component/UIElements/Card';\r\n/// heloo\r\nconst FriendList = ({\r\n  friends,\r\n}) => {\r\n  if (friends.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className=\"gray-text\">No friend found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friends.map(user => (\r\n        <FriendItem user={user} key={user.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '../shared/component/UIElements/Avatar';\r\nimport Card from '../shared/component/UIElements/Card';\r\nimport useHttpClient from '../shared/hooks/http-hook';\r\nimport ErrorModal from '../shared/component/UIElements/ErrorModal';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ReceivedFriendRequestItem = ({\r\n  request: { _id: requestId, user: { id: userId, name, image } },\r\n  auth,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler,\r\n}) => {\r\n  const {  error, sendRequest, clearError } = useHttpClient();\r\n  const acceptFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'PUT',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      acceptFriendHandler(userID);\r\n    } catch (error) { }\r\n  };\r\n  const cancelFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'DELETE',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      cancelFriendHandler(userID);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <li className=\"user-item\">\r\n        <Card className=\"user-item__content\">\r\n          <Link to={`/${userId}/places`}>\r\n            <div className=\"user-item__image\">\r\n              <Avatar image={image} alt={name} />\r\n            </div>\r\n            <div className=\"user-item__info\">\r\n              <h2>{name}</h2>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => acceptFriendRequest(userId)}>\r\n            <i className=\"fas fa-check-circle\"></i>Accept\r\n          </Button>{' '}\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={() => cancelFriendRequest(userId)}>\r\n            <i className=\"fas fa-window-close\"></i>Cancel\r\n          </Button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReceivedFriendRequestItem;\r\n","import React from 'react';\r\nimport FriendRequestItem from './FriendRequestItem';\r\nimport Card from '../shared/component/UIElements/Card';\r\n\r\nconst FriendRequestList = ({\r\n  auth,\r\n  friendRequests,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler\r\n}) => {\r\n  if (friendRequests.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className='gray-text'>No friend requests found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friendRequests.map(request => (\r\n        <FriendRequestItem\r\n          auth={auth}\r\n          request={request}\r\n          key={request.id}\r\n          acceptFriendHandler={acceptFriendHandler}\r\n          cancelFriendHandler={cancelFriendHandler}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendRequestList;\r\n","import React, { useEffect, useState, useContext, Fragment } from 'react';\r\nimport FriendList from '../FriendList';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport useHttpClient from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/component/UIElements/ErrorModal';\r\nimport FriendRequestList from '../FriendRequestList';\r\n\r\nconst Friends = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [friends, setFriends] = useState([]);\r\n  const [friendRequests, setFriendRequests] = useState([]);\r\n  const [processedRequests, setProcessedRequests] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriends(userData.friends);\r\n      } catch (error) { }\r\n    };\r\n    const getFriendRequests = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriendRequests(userData.friendRequests);\r\n      } catch (error) { }\r\n    };\r\n    getFriends();\r\n    getFriendRequests();\r\n  }, [processedRequests,auth.token,sendRequest]);\r\n\r\n  const processFriendRequest = userId => {\r\n    setProcessedRequests(prevValue => [...prevValue, userId]);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"fade-in no-select\">\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friends && (\r\n          <FriendList\r\n            friends={friends}\r\n          />\r\n        )}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friendRequests && (\r\n          <FriendRequestList\r\n            auth={auth}\r\n            friendRequests={friendRequests}\r\n            acceptFriendHandler={processFriendRequest}\r\n            cancelFriendHandler={processFriendRequest}\r\n          />\r\n        )}\r\n        </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"./Map.css\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\nconst Map = props => {\r\n  const [map, setMap] = useState(null);\r\n  const mapContainer = useRef(null);\r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\r\n    const initializeMap = ({ setMap, mapContainer }) => {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: \"mapbox://styles/mapbox/streets-v11\",\r\n        center: center,\r\n        zoom: zoom\r\n      });\r\n\r\n      map.on(\"load\", () => {\r\n        setMap(map);\r\n        map.resize();\r\n      });\r\n    };\r\n\r\n    if (!map) initializeMap({ setMap, mapContainer });\r\n  }, [map, center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      className={`map ${props.className}`}\r\n      ref={el => (mapContainer.current = el)}\r\n      style={props.style}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useState, Fragment, useContext, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport \"./PlaceItem.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport Map from \"../../shared/component/UIElements/Map\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { PLACE_TAG_TITLES } from \"../../shared/Util/constants\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nconst PlaceItem = ({ place, onDeletePlace }) => {\r\n  const { error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [evaluation, setEvaluation] = useState();\r\n  const [addLikes, setAddLikes] = useState();\r\n  const [addDislikes, setAddDislike] = useState();\r\n  const [showTravelWishButton, setShowTravelWishButton] = useState(true);\r\n  const [showTick, setShowTick] = useState(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const {\r\n    id,\r\n    image,\r\n    name,\r\n    title,\r\n    address,\r\n    description,\r\n    location,\r\n    tags,\r\n  } = place;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const fetchEvaluation = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/evaluation/${id}`\r\n        );\r\n        setEvaluation(data.place);\r\n      } catch (error) {}\r\n    };\r\n    fetchEvaluation();\r\n  }, [addLikes, addDislikes, id, sendRequest]);\r\n\r\n  const addLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { likes: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/like/${id}`,\r\n          \"POST\",\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n\r\n        setAddLikes(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  const addDisLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { disLike: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/dislike/${id}`,\r\n\r\n          \"POST\",\r\n\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n\r\n        setAddDislike(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  const showDeleteWaringHandler = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n  const cancelDeleteHandler = () => {\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      onDeletePlace(id);\r\n    } catch (error) {}\r\n  };\r\n  const addBucketList = async () => {\r\n    try {\r\n      setShowTravelWishButton(false);\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${id}`,\r\n        \"PATCH\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setShowTick(true);\r\n    } catch (error) {\r\n      setShowTravelWishButton(true);\r\n    }\r\n  };\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`\r\n        );\r\n        setUsers(data.users);\r\n      } catch (error) {}\r\n    };\r\n    getUsers();\r\n  }, [sendRequest]);\r\n\r\n  const checkAdded = (users) => {\r\n    if (!auth.userId) {\r\n      return false;\r\n    }\r\n    const currentUser = users.find((item) => item._id === auth.userId);\r\n    const nonUniqueArray = currentUser.bucketList.filter((item) => {\r\n      return item.id === id;\r\n    });\r\n    if (nonUniqueArray.length === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={address}\r\n        contentClass=\"place-item__modal-content\"\r\n        footerClass=\"place-item__actions\"\r\n        footer={<Button onClick={closeMapHandler}>Close</Button>}\r\n      >\r\n        <div className=\"map-container no-select\">\r\n          <h2>THE MAP!</h2>\r\n          <Map center={location} zoom={16} />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        className=\"place-item__modal-actions\"\r\n        footer={\r\n          <Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? note that it can't be\r\n          undone thereafter.\r\n        </p>\r\n      </Modal>\r\n      {users && (\r\n        <li className=\"place-item fade-in\">\r\n          <Card className=\"place-item__content\">\r\n            <div className=\"place-item__image\">\r\n              <img src={image.imageUrl} alt={name} />\r\n            </div>\r\n            <div className=\"place-item__info\">\r\n              <div className=\"evaluation no-select\">\r\n                {evaluation && (\r\n                  <div className=\"like\">\r\n                    <p className=\"like-count\">\r\n                      {evaluation.likes >= 1000\r\n                        ? evaluation.likes.length / 1000 + \"k\"\r\n                        : evaluation.likes.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-up fa-2x\"\r\n                      onClick={addLikeAndRemoved}\r\n                      style={{\r\n                        color:\r\n                          evaluation.likes.includes(auth.userId) && \"green\",\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n                {evaluation && (\r\n                  <div className=\"dislike\">\r\n                    <p className=\"dislike-count\">\r\n                      {evaluation.disLike >= 1000\r\n                        ? evaluation.disLike.length / 1000 + \"k\"\r\n                        : evaluation.disLike.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-down fa-2x\"\r\n                      onClick={addDisLikeAndRemoved}\r\n                      style={{\r\n                        color:\r\n                          evaluation.disLike.includes(auth.userId) && \"red\",\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n              </div>{\" \"}\r\n              <p>{JSON.stringify()}</p>\r\n              <h2>{title}</h2>\r\n              <h3>{address}</h3>\r\n              <p>{description}</p>\r\n              <div>\r\n                {tags.map((tag) => {\r\n                  return (\r\n                    <Chip\r\n                      key={tag}\r\n                      className=\"tag-chip\"\r\n                      variant=\"outlined\"\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      label={PLACE_TAG_TITLES[tag]}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n              <Button inverse onClick={openMapHandler}>\r\n                VIEW ON MAP\r\n              </Button>\r\n              <Link to={`/places/${id}`}>\r\n                <Button>DETAILS</Button>\r\n              </Link>\r\n              {place.creator === auth.userId && (\r\n                <Button to={`/places/${id}/edit`}>EDIT</Button>\r\n              )}\r\n              {place.creator === auth.userId && (\r\n                <Button danger onClick={showDeleteWaringHandler}>\r\n                  DELETE\r\n                </Button>\r\n              )}\r\n              {auth.token &&\r\n                place.creator !== auth.userId &&\r\n                showTravelWishButton &&\r\n                !checkAdded(users) && (\r\n                  <Button onClick={addBucketList}>ADD TO BUCKET LIST</Button>\r\n                )}\r\n              {checkAdded(users) && auth.userId && (\r\n                <span className=\"animated\">\r\n                  Already in your bucket{\" \"}\r\n                  <span\r\n                    role=\"img\"\r\n                    aria-label={\"already-in your bucket\"}\r\n                    aria-hidden={false}\r\n                  >\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n              {showTick && (\r\n                <span className=\" fadeOut animated\">\r\n                  Added{\" \"}\r\n                  <span role=\"img\" aria-label={\"added\"} aria-hidden={false}>\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </li>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport \"./PlaceList.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst PlaceList = ({ items, onDeletePlace }) => {\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found maybe create one ?</h2>\r\n          <Button to='/places/new'>Share place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {items.map(place => (\r\n        <PlaceItem key={place.id} place={place} onDeletePlace={onDeletePlace}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport \"./UserPlaces.css\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport {\r\n  Select,\r\n  Checkbox,\r\n  MenuItem,\r\n  Grid,\r\n  Container,\r\n  Paper,\r\n  InputBase,\r\n  IconButton,\r\n  FormControlLabel,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { PLACE_TAGS } from \"../../shared/Util/constants\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 5,\r\n  },\r\n  centerd: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  end: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  selectStyle: {\r\n    background: \"white\",\r\n    width: \"100%\",\r\n    padding: \"4px\",\r\n    borderRadius: \"4px\",\r\n  },\r\n}));\r\n\r\nconst UserPlaces = () => {\r\n  const classes = useStyles();\r\n  const userId = useParams().userId;\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [places, setPlaces] = useState();\r\n  const [searchValue, setSearchValue] = useState(\" \");\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const [menuItemValue, setMenuItemValue] = useState();\r\n\r\n  const getPlaces = async () => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${\r\n          process.env.REACT_APP_BACKEND_URL\r\n        }/places/user/${userId}/?sortBy=${sortBy}&tagFilter=${tags.join(\",\")}`\r\n      );\r\n      setPlaces(data.userWithPlaces);\r\n    } catch (error) {}\r\n  };\r\n  useEffect(() => {\r\n    getPlaces();\r\n    // eslint-disable-next-line\r\n  }, [sendRequest, userId, sortBy, tags]);\r\n  const placeDeleteHandler = (detetedPlaceId) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((places) => places.id !== detetedPlaceId)\r\n    );\r\n  };\r\n  const searchPlaces = async (searchValue) => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/?search=${searchValue}`\r\n      );\r\n      setPlaces(data.places);\r\n    } catch (error) {}\r\n  };\r\n\r\n  const getError = (err) => {\r\n    if (!places && auth.userId !== userId) {\r\n      return (\r\n        <h2 className=\"center gray-text fade-in-faster\">\r\n          There is no place shared by this user\r\n        </h2>\r\n      );\r\n    }\r\n    if (!places && auth.userId === userId) {\r\n      return (\r\n        <Fragment>\r\n          <h2 className=\"center gray-text fade-in-faster\">\r\n            You don't have any shared places. Would you like to add one?\r\n          </h2>\r\n          <div className=\"center fade-in-faster\">\r\n            <Button inverse to=\"/places/new\">\r\n              ADD A PLACE\r\n            </Button>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return <h2>{err}</h2>;\r\n    }\r\n  };\r\n\r\n  //sort on selected option below\r\n  const sortByTitleRateDate = (event) => {\r\n    const menuItemValue = event.target.value;\r\n\r\n    if (menuItemValue === \"rate\") setSortBy(\"rate\");\r\n    if (menuItemValue === \"title\") setSortBy(\"title\");\r\n    if (menuItemValue === \"created_at\") setSortBy(\"created_at\");\r\n    setMenuItemValue(menuItemValue);\r\n  };\r\n\r\n  const handleTagChange = (event) => {\r\n    const tagName = event.target.name;\r\n    const checked = event.target.checked;\r\n\r\n    if (checked) {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName) ? oldTags : [...oldTags, tagName];\r\n      });\r\n    } else {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName)\r\n          ? oldTags.filter((tag) => tag !== tagName)\r\n          : oldTags;\r\n      });\r\n    }\r\n  };\r\n\r\n  if (error)\r\n    return (\r\n      <ErrorModal\r\n        error={getError(error)}\r\n        header=\"Hello there!\"\r\n        onClear={clearError}\r\n      />\r\n    );\r\n\r\n  const tagInputs = [];\r\n\r\n  PLACE_TAGS.forEach((tag) => {\r\n    const checked = tags.includes(tag.name);\r\n    const tagInput = (\r\n      <FormControlLabel\r\n        key={tag.name}\r\n        control={\r\n          <Checkbox\r\n            checked={checked}\r\n            onChange={handleTagChange}\r\n            name={tag.name}\r\n          />\r\n        }\r\n        label={tag.title}\r\n      />\r\n    );\r\n    tagInputs.push(tagInput);\r\n  });\r\n\r\n  const onSubmitSearchHandler = (e) => {\r\n    e.preventDefault();\r\n    searchPlaces(searchValue);\r\n  };\r\n  const inputSearchHandler = (e) => {\r\n    setSearchValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"place-overlay-container fade-in\">\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && places && (\r\n        <Container maxWidth=\"md\">\r\n          <Grid className={classes.centerd} container spacing={3}>\r\n            <Grid item md={4} xs={12} sm={3}>\r\n              <Select\r\n                onChange={sortByTitleRateDate}\r\n                defaultValue=\"none\"\r\n                className={classes.selectStyle}\r\n                value={menuItemValue}\r\n              >\r\n                <MenuItem value=\"none\" disabled>\r\n                  Choose an option to Sort\r\n                </MenuItem>\r\n                <MenuItem value=\"rate\">Sort By Rate</MenuItem>\r\n                <MenuItem value=\"title\">Sort By Title</MenuItem>\r\n                <MenuItem value=\"created_at\">Sort By Adding Date</MenuItem>\r\n              </Select>\r\n            </Grid>\r\n            <Grid item md={4} xs={12} sm={3}>\r\n              <Paper\r\n                component=\"form\"\r\n                className={classes.root}\r\n                onSubmit={onSubmitSearchHandler}\r\n              >\r\n                <InputBase\r\n                  className={classes.input}\r\n                  placeholder=\"Search\"\r\n                  inputProps={{ \"aria-label\": \"\" }}\r\n                  value={searchValue}\r\n                  onChange={inputSearchHandler}\r\n                />\r\n                <IconButton\r\n                  type=\"submit\"\r\n                  className={classes.iconButton}\r\n                  aria-label=\"search\"\r\n                >\r\n                  <SearchIcon />\r\n                </IconButton>\r\n              </Paper>\r\n            </Grid>\r\n            <FormGroup>\r\n              <Paper>{tagInputs}</Paper>\r\n            </FormGroup>\r\n            <PlaceList items={places} onDeletePlace={placeDeleteHandler} />\r\n          </Grid>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React, { useContext, Fragment } from \"react\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./MessageItem.css\";\r\n\r\nconst MessageItem = ({ msg, messageDeleteHandler, getUserMessages, contacts }) => {\r\n  const message = useContext(MessageContext);\r\n  const { sendRequest } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n\r\n  const delMessage = async (userId, msgId) => {\r\n    await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/user/messages/${userId}/${msgId}`,\r\n      \"DELETE\",\r\n      null,\r\n      {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    );\r\n\r\n    messageDeleteHandler(msgId);\r\n    getUserMessages(userId);\r\n  };\r\n  const formatDate = (date) => {\r\n    const d1 = new Date(date);\r\n    return d1.toLocaleString(\"en-NL\");\r\n  };\r\n\r\n  return (\r\n    <div key={msg._id} className={`mContainer ${msg.isSent ? \"myMsg\" : \"userMsg\"}`}>\r\n      <div className={`msgInfo ${msg.isSent ? \"toRyt\" : \"toLeft\"}`}>\r\n        {msg.isSent ? (\r\n          <Fragment>\r\n            <p>{formatDate(msg.date)}</p>\r\n\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n          </Fragment>\r\n        ) : (\r\n          <Fragment>\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n            <p>{formatDate(msg.date)}</p>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n      <p>{msg.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;\r\n","import React, { useContext, useState, useEffect, useRef, useCallback } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport \"./Messages.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport MessageItem from \"../components/MessageItem\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\n\r\nconst Messages = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n  const message = useContext(MessageContext);\r\n  const [allMessages, setAllMessages] = useState(message.messagesData);\r\n  const [mobileContactMode, setMobileContactMode] = useState(true);\r\n  const [textedUser, setTextedUser] = useState(message.textedUser);\r\n\r\n  // scroll to the bottom of the messages box\r\n  const myScrollRef = useRef();\r\n  const scrollToBottom = () => {\r\n    myScrollRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const [state, inputHandler] = useFrom(\r\n    {\r\n      message: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false,\r\n  );\r\n\r\n  // fetching contacts (only texted ones not all users)\r\n  const fetchContacts = async () => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      );\r\n      setContacts(data.corresponders);\r\n      scrollToBottom();\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n  }, [sendRequest, token, message.textedUser]);\r\n\r\n  // Send a message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    const corresponderId = message.id;\r\n    const messageValue = state.inputs.message.value;\r\n    try {\r\n      const res = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          message: messageValue,\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      );\r\n      setAllMessages([...allMessages, { message: messageValue, isSent: true, _id: res.messageId }]);\r\n      scrollToBottom();\r\n      getUserMessages(corresponderId);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Get all messages as per the texted person\r\n  const getUserMessages = async (id) => {\r\n    const corresponderId = id;\r\n\r\n    try {\r\n      // console.log(textedUser);\r\n      const fetchedMessages = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      );\r\n      fetchContacts();\r\n      setAllMessages(fetchedMessages.messages);\r\n\r\n      message.id = corresponderId;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Delete a corresponder\r\n  const dltCorresponder = async (id) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      );\r\n      const filteredContacts = contacts.filter((contact) => contact._id !== id);\r\n      setContacts(filteredContacts);\r\n      if (id === message.id) {\r\n        setTextedUser(\"\");\r\n        message.textedUser = \"\";\r\n      }\r\n      setAllMessages([]);\r\n      fetchContacts();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const messageDeleteHandler = (deletedMsgId) => {\r\n    setAllMessages((prevAllMessages) => prevAllMessages.filter((msg) => msg.id !== deletedMsgId));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n\r\n      {!isLoading && (\r\n        <Card className=\"messages__card\">\r\n          {/* Contacts */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `contacts__container contact__container-mobile`\r\n                : `contacts__container contact__container-hidden`\r\n            }\r\n          >\r\n            <h2 className=\"header\">Recent</h2>\r\n            <div className=\"contacts__box\">\r\n              {contacts.length > 0 &&\r\n                contacts.map((contact) => (\r\n                  <Card\r\n                    className=\"user-item__content\"\r\n                    key={contact.corresponder._id}\r\n                    className={`user-item__content ${\r\n                      message.id === contact.corresponder._id && \"activatedContact\"\r\n                    }`}\r\n                  >\r\n                    <div\r\n                      onClick={() => {\r\n                        getUserMessages(contact.corresponder._id);\r\n                        if (contact.corresponder) {\r\n                          setTextedUser(contact.corresponder.name);\r\n                          message.textedUser = contact.corresponder.name;\r\n                        }\r\n                        setMobileContactMode(false);\r\n                      }}\r\n                      className={`cardWidth`}\r\n                    >\r\n                      <div className=\"user-item__image m-1\">\r\n                        <Avatar\r\n                          image={contact.corresponder.image}\r\n                          alt={contact.corresponder.name}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"user-item__info m-1\">\r\n                      <h3>{contact.corresponder.name}</h3>\r\n                    </div>\r\n                    <button onClick={() => dltCorresponder(contact.corresponder._id)}>X</button>\r\n                  </Card>\r\n                ))}\r\n            </div>\r\n            <div className=\"innerBox\">\r\n              {contacts.length === 0 && (\r\n                <Link className=\"link-text\" to=\"/\">\r\n                  Text a user!\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `message__box message__box-hidden`\r\n                : `message__box message__box-mobile`\r\n            }\r\n          >\r\n            <h2 className=\"header\">{`Messages ${textedUser && `with ${textedUser}`}`}</h2>\r\n            <a\r\n              onClick={() => {\r\n                setMobileContactMode(true);\r\n              }}\r\n              className=\"mobile-hidden\"\r\n            >\r\n              BACK\r\n            </a>\r\n            <div className=\"msgsContainer\">\r\n              {allMessages.length > 0 ? (\r\n                allMessages.map((msg, i) => (\r\n                  <MessageItem\r\n                    key={i}\r\n                    msg={msg}\r\n                    messageDeleteHandler={messageDeleteHandler}\r\n                    getUserMessages={getUserMessages}\r\n                    contacts={contacts}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div>Start a message!</div>\r\n              )}\r\n              <div ref={myScrollRef}></div>\r\n            </div>\r\n\r\n            <form onSubmit={sendMessage}>\r\n              <Input\r\n                id=\"message\"\r\n                element=\"input\"\r\n                type=\"text\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Please enter your message\"\r\n                onInput={inputHandler}\r\n              />\r\n              <Button type=\"submit\">Send</Button>\r\n            </form>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Messages;\r\n","import React, { useState, useContext, Fragment } from \"react\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketListItem.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nconst BucketListItem = ({ bucket, deleteBucket }) => {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [visitStyle, setVisitStyle] = useState(bucket.isVisited);\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { id } = bucket;\r\n  const { userId } = useParams();\r\n  const openDetailsHandler = () => {\r\n    setShowDetails(true);\r\n  };\r\n  const closeDetailsHandler = () => {\r\n    setShowDetails(false);\r\n  };\r\n\r\n  const deleteFromBucketList = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n      deleteBucket(bucket.id._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const visitedPlace = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n  if (error) return <ErrorModal error={error} onClear={clearError} />;\r\n  return (\r\n    <Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <div className=\"bucket-list-item no-select\">\r\n        <Modal\r\n          show={showDetails}\r\n          onCancel={closeDetailsHandler}\r\n          header={bucket.name}\r\n          contentClass=\"place-item__modal-content\"\r\n          footerClass=\"place-item__actions\"\r\n          footer={<Button onClick={closeDetailsHandler}>Close</Button>}\r\n        >\r\n          <div className=\"detail-item\">\r\n            <div className=\"bucket-image\">\r\n              <img\r\n                style={{ width: \"100%\" }}\r\n                src={id.image.imageUrl}\r\n                alt=\"bucket-place\"\r\n              ></img>\r\n            </div>\r\n\r\n            <div className=\"bucket-info\">\r\n              <p style={{ fontSize: \"1.5em\" }}>{id.title}</p>\r\n              <p>{id.description}</p>\r\n              <p>Address: {id.address}</p>\r\n              <p className=\"bucket-creator\">\r\n                {\" \"}\r\n                <strong>Shared by:</strong>{\" \"}\r\n                <Link to={`/${id.creator}/places`}>{bucket.createdBy}</Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n        <p style={{ textDecoration: visitStyle ? \"line-through\" : \"none\" }}>\r\n          {bucket && bucket.id.title}\r\n        </p>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            danger\r\n            onClick={() => {\r\n              deleteFromBucketList();\r\n            }}\r\n          >\r\n            Delete\r\n          </Button>\r\n        )}\r\n\r\n        <Button size=\"mobile\" onClick={() => openDetailsHandler()}>\r\n          Show Details\r\n        </Button>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            inverse\r\n            onClick={() => {\r\n              setVisitStyle(!visitStyle);\r\n              visitedPlace();\r\n            }}\r\n          >\r\n            {visitStyle ? \"Not Visited\" : \"Visited\"}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default BucketListItem;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport BucketListItem from \"./BucketListItem\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketList.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\n\r\nconst BucketList = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [places, setPlaces] = useState();\r\n  const { userId } = useParams();\r\n  const auth = useContext(AuthContext);\r\n  const deleteFromBucketList = (id) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((place) => place.id._id !== id)\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    const getBucketList = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist?q=${userId}`\r\n        );\r\n        setPlaces(data.userWithBucketList);\r\n      } catch (err) {}\r\n    };\r\n    getBucketList();\r\n  }, [sendRequest, userId]);\r\n  const [user, setUser] = useState();\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}/`\r\n        );\r\n        setUser(data);\r\n      } catch (err) {}\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  if (error) {\r\n    return <ErrorModal error={error} onClear={clearError} header={`Hey!`} />;\r\n  }\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  else {\r\n    return (\r\n      <div>\r\n        {userId === auth.userId && (\r\n          <div className=\"share-box  no-select\">\r\n            <div className=\"share-button\">\r\n              <a\r\n                href={`https://twitter.com/intent/tweet?url=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}&text=My+Travel+Bucket+List%2C+Connect+and+Explore.&hashtags=travelling,wanderlust,yourplacesapp`}\r\n              >\r\n                <i className=\"fab fa-twitter-square\"></i>\r\n              </a>\r\n              <a\r\n                href={`https://www.facebook.com/sharer.php?u=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}`}\r\n              >\r\n                <i className=\"fab fa-facebook-square\"></i>\r\n              </a>\r\n            </div>\r\n            <p>SHARE</p>\r\n          </div>\r\n        )}\r\n        <React.Fragment>\r\n          <div className=\"bucket-list-content\">\r\n            <div className=\"m-b-2\">\r\n              <h2 className=\" white-text fade-in no-select center\">\r\n                Bucket List of{\" \"}\r\n                <span className=\"m-05 yellow-text\">\r\n                  {\" \"}\r\n                  {user && user.user.name}\r\n                </span>{\" \"}\r\n              </h2>\r\n            </div>\r\n            {places && places.length === 0 && auth.userId === userId && (\r\n              <h2\r\n                className=\"center white-text fade-in\"\r\n                style={{ flexDirection: \"column\" }}\r\n              >\r\n                You don't have any places in your bucket list. Maybe check some\r\n                places?\r\n                <Link to=\"/\"> Go to home</Link>\r\n              </h2>\r\n            )}\r\n            {auth.userId !== userId && places && places.length === 0 && (\r\n              <h2 className=\"center white-text fade-in\">\r\n                This user does not have any places in their bucket list\r\n              </h2>\r\n            )}\r\n\r\n            {places &&\r\n              places.map((bucket, index) => {\r\n                return (\r\n                  <BucketListItem\r\n                    bucket={bucket}\r\n                    key={index}\r\n                    index={index}\r\n                    deleteBucket={deleteFromBucketList}\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default BucketList;\r\n","import React, { useState, useContext } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\n\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport ImageUpload from \"../../shared/component/formElements/ImageUpload\";\r\n\r\nimport \"./UserProfile.css\";\r\nconst UserProfile = ({ user, setUser, notifications }) => {\r\n  const { userId, token } = useContext(AuthContext);\r\n  const [editImage, setEditImage] = useState(false);\r\n  const [editName, setEditName] = useState(false);\r\n  const [notStyle, setNotStyle] = useState(notifications);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { name, image } = user;\r\n  const [state, inputHandler, setFormData] = useFrom(\r\n    {\r\n      email: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const switchModelHandler = () => {\r\n    if (editImage) {\r\n      setFormData(\r\n        {\r\n          image: {\r\n            value: null,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else if (editName) {\r\n      setFormData(\r\n        {\r\n          name: {\r\n            value: name,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n          password: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  };\r\n\r\n  const changeEditName = () => {\r\n    setEditName((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n  const changeEditImage = () => {\r\n    setEditImage((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n\r\n  const authSubmitHandler = async () => {\r\n    if (editName) {\r\n      try {\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          JSON.stringify({\r\n            name: state.inputs.name.value,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditName(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    } else {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", state.inputs.image.value);\r\n\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          formData,\r\n          {\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditImage(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const notificationHandler = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/users/notifications/${userId}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile fade-in no-select\">\r\n      {isLoading && <LoadingSpinner />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && (\r\n        <Card className=\"profile__card\">\r\n          {!editName && (\r\n            <React.Fragment>\r\n              {editImage ? (\r\n                <ImageUpload\r\n                  center\r\n                  id={\"image\"}\r\n                  onInput={inputHandler}\r\n                  errorText=\"Please provide an image\"\r\n                />\r\n              ) : (\r\n                <Avatar image={image} className=\"profile__avatar\" />\r\n              )}\r\n              {editImage && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditImage}>\r\n                {editImage ? \"Cancel\" : \"Change Image\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n          {!editImage && (\r\n            <React.Fragment>\r\n              {editName ? (\r\n                <Input\r\n                  id=\"name\"\r\n                  element=\"input\"\r\n                  type=\"text\"\r\n                  label=\"Your Name\"\r\n                  validators={[VALIDATOR_REQUIRE()]}\r\n                  errorText=\"Please enter a valid name\"\r\n                  onInput={inputHandler}\r\n                />\r\n              ) : (\r\n                <h4>{name}</h4>\r\n              )}\r\n              {editName && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditName}>\r\n                {editName ? \"Cancel\" : \"Edit Name\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </Card>\r\n      )}\r\n      {user && (\r\n        <div className=\"notification-box card\">\r\n          <p>Do You Want To Receive E-mail Notifications?</p>\r\n          <Button\r\n            onClick={() => {\r\n              setNotStyle(!notStyle);\r\n              notificationHandler();\r\n            }}\r\n          >\r\n            {notStyle ? \"TURN OFF\" : \"TURN ON\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState, useContext, Fragment } from \"react\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from \"react-router-dom\";\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport Messages from \"../pages/Messages\";\r\nimport UserPlaces from \"../../places/pages/UserPlaces\";\r\nimport Users from \"../../users/pages/Users\";\r\nimport UserProfileNav from \"../components/UserProfileNav\";\r\nimport BucketList from \"../../places/components/BucketList\";\r\nimport Friends from \"../../friends/pages/Friends\";\r\nimport \"./User.css\";\r\n\r\nconst User = () => {\r\n  const { userId } = useContext(AuthContext);\r\n  const [user, setUser] = useState({});\r\n  const [notifications, setNotifications] = useState();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`);\r\n        setUser(data.user);\r\n        setNotifications(data.user.notifications);\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && (\r\n        <Router>\r\n          <UserProfileNav />\r\n          <Switch>\r\n            <Route path={`/:userId/my`} exact>\r\n              <img className=\"fade-in\" src=\"/images/my-page.png\" alt=\"my-page\" />\r\n            </Route>\r\n            <Route path={`/:userId/places`} exact component={withRouter(UserPlaces)} />\r\n            <Route path={`/:userId/profile`} exact>\r\n              <UserProfile user={user} setUser={setUser} notifications={notifications} />\r\n            </Route>\r\n            <Route path={`/:userId/messages`} exact>\r\n              <Messages />\r\n            </Route>\r\n            <Route path={`/:userId/bucketlist`} exact>\r\n              <BucketList />\r\n            </Route>\r\n            <Route path={`/:userId/friends`} exact>\r\n              <Friends />\r\n            </Route>\r\n            <Route path=\"/\" exact>\r\n              <Users />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}