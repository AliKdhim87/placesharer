{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","shared/component/formElements/Input.js","shared/hooks/form-hook.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","shared/Util/constants.js","shared/component/formElements/ImageUpload.js","friends/FriendItem.js","friends/FriendList.js","friends/FriendRequestItem.js","friends/FriendRequestList.js","friends/pages/Friends.js","shared/component/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","users/components/MessageItem.js","users/pages/Messages.js","places/components/BucketListItem.js","places/components/BucketList.js","users/components/UserProfile.js","users/pages/User.js","shared/Util/validators.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","inputReducer","state","action","type","val","isValid","validate","validators","isTouched","Input","props","changeHandeler","event","dispatch","touchHandler","inaialState","initailValue","initailValid","useReducer","id","onInput","useEffect","element","placeholder","onChange","onBlur","rows","className","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useFrom","initailInput","initailFormValidity","useCallback","inputData","formValidity","_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","F","s","n","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","PLACE_TAG_TITLES","PLACE_TAGS","name","title","ImageUpload","pickedFile","center","useState","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","useRef","fileIsValid","fileReader","FileReader","onload","result","readAsDataURL","ref","style","display","accept","files","src","alt","onClick","current","click","FriendItem","user","image","auth","unfriendHandler","useHttpClient","sendRequest","error","unfriend","clearError","userID","a","console","log","token","process","Authorization","Card","to","Avatar","Button","variant","color","FriendList","friends","map","ReceivedFriendRequestItem","request","requestId","_id","userId","acceptFriendHandler","cancelFriendHandler","acceptFriendRequest","cancelFriendRequest","ErrorModal","onClear","FriendRequestList","friendRequests","FriendRequestItem","Friends","useContext","AuthContext","setFriends","setFriendRequests","processedRequests","setProcessedRequests","processedFriends","setProcessedFriends","isLoading","getFriends","userData","getFriendRequests","processFriendRequest","prevValue","Map","setMap","mapContainer","zoom","mapboxgl","accessToken","container","on","resize","initializeMap","el","PlaceItem","place","onDeletePlace","showMap","setShowMap","showConfirmModal","setShowConfirmModal","evaluation","setEvaluation","addLikes","setAddLikes","addDislikes","setAddDislike","showTravelWishButton","setShowTravelWishButton","showTick","setShowTick","closeMapHandler","address","description","location","tags","history","useHistory","data","fetchEvaluation","addLikeAndRemoved","isLoggedIn","newData","likes","JSON","stringify","addDisLikeAndRemoved","disLike","cancelDeleteHandler","confirmDeleteHandler","addBucketList","users","setUsers","getUsers","checkAdded","find","item","bucketList","Modal","show","onCancel","header","contentClass","footerClass","footer","inverse","danger","imageUrl","includes","tag","Chip","size","creator","role","aria-label","aria-hidden","PlaceList","items","useStyles","makeStyles","theme","root","padding","alignItems","width","input","marginLeft","spacing","flex","iconButton","centerd","justifyContent","end","selectStyle","background","borderRadius","UserPlaces","classes","useParams","places","setPlaces","searchValue","setSearchValue","sortBy","setSortBy","setTags","menuItemValue","setMenuItemValue","getPlaces","join","userWithPlaces","searchPlaces","handleTagChange","tagName","checked","oldTags","tagInputs","tagInput","FormControlLabel","control","Checkbox","Container","maxWidth","Grid","md","xs","sm","Select","defaultValue","MenuItem","disabled","Paper","component","onSubmit","preventDefault","InputBase","inputProps","IconButton","FormGroup","detetedPlaceId","prevPlaces","MessageItem","msg","messageDeleteHandler","getUserMessages","message","contacts","MessageContext","delMessage","msgId","formatDate","date","Date","toLocaleString","isSent","Messages","setContacts","messagesData","allMessages","setAllMessages","mobileContactMode","setMobileContactMode","textedUser","setTextedUser","myScrollRef","scrollToBottom","scrollIntoView","behavior","inputHandler","fetchContacts","corresponders","sendMessage","corresponderId","messageValue","res","messageId","fetchedMessages","messages","dltCorresponder","filteredContacts","contact","deletedMsgId","prevAllMessages","Fragment","LoadingSpinner","asOverlay","corresponder","VALIDATOR_REQUIRE","BucketListItem","bucket","deleteBucket","showDetails","setShowDetails","isVisited","visitStyle","setVisitStyle","closeDetailsHandler","deleteFromBucketList","visitedPlace","fontSize","createdBy","textDecoration","BucketList","userWithBucketList","getBucketList","setUser","getUser","href","encodeURIComponent","flexDirection","index","UserProfile","notifications","editImage","setEditImage","editName","setEditName","notStyle","setNotStyle","email","password","setFormData","switchModelHandler","authSubmitHandler","formData","FormData","append","notificationHandler","currentMode","User","setNotifications","VALIDATOR_MINLENGTH","VALIDATOR_EMAIL","validator","trim","test"],"mappings":"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","file":"static/js/8.62a65e73.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useReducer, useEffect } from \"react\";\r\nimport { validate } from \"../../Util/validators\";\r\nimport \"./Input.css\";\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = props => {\r\n  const changeHandeler = event => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n  const touchHandler = event => {\r\n    dispatch({ type: \"TOUCH\" });\r\n  };\r\n  const inaialState = {\r\n    value: props.initailValue || \"\",\r\n    isValid: props.initailValid || false,\r\n    isTouched: false,\r\n  };\r\n  const [state, dispatch] = useReducer(inputReducer, inaialState);\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = state;\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const element =\r\n    props.element === \"input\" ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={changeHandeler}\r\n        onBlur={touchHandler}\r\n        value={state.value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div className={`form-control ${!state.isValid && state.isTouched && \"form-control--invalid\"}`}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!state.isValid && state.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid }\r\n        },\r\n        isValid: formIsValid\r\n      };\r\n    case \"SET_DATA\":\r\n      return {\r\n        ...state,\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFrom = (initailInput, initailFormValidity) => {\r\n  const [state, dispatch] = useReducer(formReducer, {\r\n    inputs: initailInput,\r\n    isValid: initailFormValidity\r\n  });\r\n  const inputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id\r\n    });\r\n  }, []);\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity\r\n    });\r\n  }, []);\r\n  return [state, inputHandler, setFormData];\r\n};\r\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export const PLACE_TAG_TITLES = {\r\n  'natural': 'Natural',\r\n  'historical': 'Historical',\r\n  'outdoor': 'Outdoor',\r\n  'touristic': 'Touristic',\r\n};\r\n\r\nexport const PLACE_TAGS = [\r\n  { name: 'natural', title: 'Natural' },\r\n  { name: 'historical', title: 'Historical' },\r\n  { name: 'outdoor', title: 'Outdoor' },\r\n  { name: 'touristic', title: 'Touristic'}\r\n];","import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./ImageUpload.css\";\r\nimport Button from \"./Button\";\r\nconst ImageUpload = ({ id, center, onInput, errorText }) => {\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [isValid, setIsValid] = useState(false);\r\n  const filePickerRef = useRef();\r\n  let pickedFile;\r\n  let fileIsValid = isValid;\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickedHandler = (event) => {\r\n    if (event.target.files || event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n    onInput(id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  const pickImageHandler = () => filePickerRef.current.click();\r\n\r\n  return (\r\n    <div className=\"form-control\">\r\n      <input\r\n        ref={filePickerRef}\r\n        id={id}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${center && \"center\"}`}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}{\" \"}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>\r\n          PICK IMAGE\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../shared/component/UIElements/Avatar\";\r\nimport Card from \"../shared/component/UIElements/Card\";\r\nimport useHttpClient from \"../shared/hooks/http-hook\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst FriendItem = ({\r\n  user: { id, name, image },\r\n  auth,\r\n  unfriendHandler,\r\n}) => {\r\n  const { error, sendRequest, clearError } = useHttpClient();\r\n  const unfriend = async (userID) => {\r\n    console.log(auth.token)\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      unfriendHandler(userID);\r\n      console.log(userID)\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link className=\"user-holder\" to={`/${id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar image={image} alt={name} />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{name}</h2>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n      <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={() => unfriend(id)}\r\n        >\r\n          <i className=\"fas fa-window-close\"></i>unfriend\r\n        </Button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default FriendItem;\r\n","import React from \"react\";\r\nimport FriendItem from \"./FriendItem\";\r\nimport Card from \"../shared/component/UIElements/Card\";\r\n\r\nconst FriendList = ({ friends, unfriendHandler, auth }) => {\r\n  if (friends.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className=\"gray-text\">No friend found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friends.map((user) => (\r\n        <FriendItem\r\n         auth={auth}\r\n          user={user}\r\n          key={user.id}\r\n          unfriendHandler={unfriendHandler}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '../shared/component/UIElements/Avatar';\r\nimport Card from '../shared/component/UIElements/Card';\r\nimport useHttpClient from '../shared/hooks/http-hook';\r\nimport ErrorModal from '../shared/component/UIElements/ErrorModal';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ReceivedFriendRequestItem = ({\r\n  request: { _id: requestId, user: { id: userId, name, image } },\r\n  auth,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler,\r\n}) => {\r\n  const {  error, sendRequest, clearError } = useHttpClient();\r\n  const acceptFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'PUT',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      acceptFriendHandler(userID);\r\n    } catch (error) { }\r\n  };\r\n  const cancelFriendRequest = async userID => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests/${requestId}`,\r\n        'DELETE',\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token,\r\n        },\r\n      );\r\n      cancelFriendHandler(userID);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <li className=\"user-item\">\r\n        <Card className=\"user-item__content\">\r\n          <Link to={`/${userId}/places`}>\r\n            <div className=\"user-item__image\">\r\n              <Avatar image={image} alt={name} />\r\n            </div>\r\n            <div className=\"user-item__info\">\r\n              <h2>{name}</h2>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => acceptFriendRequest(userId)}>\r\n            <i className=\"fas fa-check-circle\"></i>Accept\r\n          </Button>{' '}\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={() => cancelFriendRequest(userId)}>\r\n            <i className=\"fas fa-window-close\"></i>Cancel\r\n          </Button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReceivedFriendRequestItem;\r\n","import React from 'react';\r\nimport FriendRequestItem from './FriendRequestItem';\r\nimport Card from '../shared/component/UIElements/Card';\r\n\r\nconst FriendRequestList = ({\r\n  auth,\r\n  friendRequests,\r\n  acceptFriendHandler,\r\n  cancelFriendHandler\r\n}) => {\r\n  if (friendRequests.length === 0) {\r\n    return (\r\n      <div className=\"center m-1\">\r\n        <Card>\r\n          <h2 className='gray-text'>No friend requests found.</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {friendRequests.map(request => (\r\n        <FriendRequestItem\r\n          auth={auth}\r\n          request={request}\r\n          key={request.id}\r\n          acceptFriendHandler={acceptFriendHandler}\r\n          cancelFriendHandler={cancelFriendHandler}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default FriendRequestList;\r\n","import React, { useEffect, useState, useContext, Fragment } from 'react';\r\nimport FriendList from '../FriendList';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport useHttpClient from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/component/UIElements/ErrorModal';\r\nimport FriendRequestList from '../FriendRequestList';\r\n\r\nconst Friends = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [friends, setFriends] = useState([]);\r\n  const [friendRequests, setFriendRequests] = useState([]);\r\n  const [processedRequests, setProcessedRequests] = useState([]);\r\n  const [processedFriends, setProcessedFriends] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriends(userData.friends);\r\n      } catch (error) { }\r\n    };\r\n    const getFriendRequests = async () => {\r\n      try {\r\n        const userData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/friends/requests`,\r\n          'GET',\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token,\r\n          },\r\n        );\r\n        setFriendRequests(userData.friendRequests);\r\n      } catch (error) { }\r\n    };\r\n    getFriends();\r\n    getFriendRequests();\r\n  }, [processedRequests,processedFriends,auth.token,sendRequest]);\r\n\r\n  const processFriendRequest = userId => {\r\n    setProcessedRequests(prevValue => [...prevValue, userId]);\r\n     }\r\n////////////////////////////////////////////////////////////////////////\r\n  const processFriend = userId => {\r\n    setProcessedFriends(prevValue => [...prevValue, userId]);\r\n   }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"fade-in no-select\">\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friends && (\r\n          <FriendList\r\n            friends={friends}\r\n            unfriendHandler={processFriend}\r\n            auth={auth}\r\n          />\r\n        )}\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        {!isLoading && friendRequests && (\r\n          <FriendRequestList\r\n            auth={auth}\r\n            friendRequests={friendRequests}\r\n            acceptFriendHandler={processFriendRequest}\r\n            cancelFriendHandler={processFriendRequest}     \r\n          />\r\n        )}\r\n        </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"./Map.css\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\nconst Map = props => {\r\n  const [map, setMap] = useState(null);\r\n  const mapContainer = useRef(null);\r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY;\r\n    const initializeMap = ({ setMap, mapContainer }) => {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: \"mapbox://styles/mapbox/streets-v11\",\r\n        center: center,\r\n        zoom: zoom\r\n      });\r\n\r\n      map.on(\"load\", () => {\r\n        setMap(map);\r\n        map.resize();\r\n      });\r\n    };\r\n\r\n    if (!map) initializeMap({ setMap, mapContainer });\r\n  }, [map, center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      className={`map ${props.className}`}\r\n      ref={el => (mapContainer.current = el)}\r\n      style={props.style}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useState, Fragment, useContext, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport \"./PlaceItem.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport Map from \"../../shared/component/UIElements/Map\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { PLACE_TAG_TITLES } from \"../../shared/Util/constants\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nconst PlaceItem = ({ place, onDeletePlace }) => {\r\n  const { error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [evaluation, setEvaluation] = useState();\r\n  const [addLikes, setAddLikes] = useState();\r\n  const [addDislikes, setAddDislike] = useState();\r\n  const [showTravelWishButton, setShowTravelWishButton] = useState(true);\r\n  const [showTick, setShowTick] = useState(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const {\r\n    id,\r\n    image,\r\n    name,\r\n    title,\r\n    address,\r\n    description,\r\n    location,\r\n    tags,\r\n  } = place;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const fetchEvaluation = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/evaluation/${id}`\r\n        );\r\n        setEvaluation(data.place);\r\n      } catch (error) {}\r\n    };\r\n    fetchEvaluation();\r\n  }, [addLikes, addDislikes, id, sendRequest]);\r\n\r\n  const addLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { likes: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/like/${id}`,\r\n          \"POST\",\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n\r\n        setAddLikes(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  const addDisLikeAndRemoved = async () => {\r\n    if (auth.isLoggedIn) {\r\n      try {\r\n        const newData = { disLike: auth.userId };\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places/dislike/${id}`,\r\n\r\n          \"POST\",\r\n\r\n          JSON.stringify(newData),\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n\r\n        setAddDislike(data);\r\n      } catch (error) {}\r\n    } else {\r\n      history.push(\"/auth\");\r\n    }\r\n  };\r\n\r\n  const showDeleteWaringHandler = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n  const cancelDeleteHandler = () => {\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      onDeletePlace(id);\r\n    } catch (error) {}\r\n  };\r\n  const addBucketList = async () => {\r\n    try {\r\n      setShowTravelWishButton(false);\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${id}`,\r\n        \"PATCH\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      setShowTick(true);\r\n    } catch (error) {\r\n      setShowTravelWishButton(true);\r\n    }\r\n  };\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`\r\n        );\r\n        setUsers(data.users);\r\n      } catch (error) {}\r\n    };\r\n    getUsers();\r\n  }, [sendRequest]);\r\n\r\n  const checkAdded = (users) => {\r\n    if (!auth.userId) {\r\n      return false;\r\n    }\r\n    const currentUser = users.find((item) => item._id === auth.userId);\r\n    const nonUniqueArray = currentUser.bucketList.filter((item) => {\r\n      return item.id === id;\r\n    });\r\n    if (nonUniqueArray.length === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={address}\r\n        contentClass=\"place-item__modal-content\"\r\n        footerClass=\"place-item__actions\"\r\n        footer={<Button onClick={closeMapHandler}>Close</Button>}\r\n      >\r\n        <div className=\"map-container no-select\">\r\n          <h2>THE MAP!</h2>\r\n          <Map center={location} zoom={16} />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        className=\"place-item__modal-actions\"\r\n        footer={\r\n          <Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? note that it can't be\r\n          undone thereafter.\r\n        </p>\r\n      </Modal>\r\n      {users && (\r\n        <li className=\"place-item fade-in\">\r\n          <Card className=\"place-item__content\">\r\n            <div className=\"place-item__image\">\r\n              <img src={image.imageUrl} alt={name} />\r\n            </div>\r\n            <div className=\"place-item__info\">\r\n              <div className=\"evaluation no-select\">\r\n                {evaluation && (\r\n                  <div className=\"like\">\r\n                    <p className=\"like-count\">\r\n                      {evaluation.likes >= 1000\r\n                        ? evaluation.likes.length / 1000 + \"k\"\r\n                        : evaluation.likes.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-up fa-2x\"\r\n                      onClick={addLikeAndRemoved}\r\n                      style={{\r\n                        color:\r\n                          evaluation.likes.includes(auth.userId) && \"green\",\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n                {evaluation && (\r\n                  <div className=\"dislike\">\r\n                    <p className=\"dislike-count\">\r\n                      {evaluation.disLike >= 1000\r\n                        ? evaluation.disLike.length / 1000 + \"k\"\r\n                        : evaluation.disLike.length}\r\n                    </p>\r\n                    <i\r\n                      className=\"fas fa-thumbs-down fa-2x\"\r\n                      onClick={addDisLikeAndRemoved}\r\n                      style={{\r\n                        color:\r\n                          evaluation.disLike.includes(auth.userId) && \"red\",\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n              </div>{\" \"}\r\n              <p>{JSON.stringify()}</p>\r\n              <h2>{title}</h2>\r\n              <h3>{address}</h3>\r\n              <p>{description}</p>\r\n              <div>\r\n                {tags.map((tag) => {\r\n                  return (\r\n                    <Chip\r\n                      key={tag}\r\n                      className=\"tag-chip\"\r\n                      variant=\"outlined\"\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      label={PLACE_TAG_TITLES[tag]}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div className=\"place-item__actions\">\r\n              <Button inverse onClick={openMapHandler}>\r\n                VIEW ON MAP\r\n              </Button>\r\n              <Link to={`/places/${id}`}>\r\n                <Button>DETAILS</Button>\r\n              </Link>\r\n              {place.creator === auth.userId && (\r\n                <Button to={`/places/${id}/edit`}>EDIT</Button>\r\n              )}\r\n              {place.creator === auth.userId && (\r\n                <Button danger onClick={showDeleteWaringHandler}>\r\n                  DELETE\r\n                </Button>\r\n              )}\r\n              {auth.token &&\r\n                place.creator !== auth.userId &&\r\n                showTravelWishButton &&\r\n                !checkAdded(users) && (\r\n                  <Button onClick={addBucketList}>ADD TO BUCKET LIST</Button>\r\n                )}\r\n              {checkAdded(users) && auth.userId && (\r\n                <span className=\"animated\">\r\n                  Already in your bucket{\" \"}\r\n                  <span\r\n                    role=\"img\"\r\n                    aria-label={\"already-in your bucket\"}\r\n                    aria-hidden={false}\r\n                  >\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n              {showTick && (\r\n                <span className=\" fadeOut animated\">\r\n                  Added{\" \"}\r\n                  <span role=\"img\" aria-label={\"added\"} aria-hidden={false}>\r\n                    &#9989;\r\n                  </span>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </li>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport \"./PlaceList.css\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\n\r\nconst PlaceList = ({ items, onDeletePlace }) => {\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found maybe create one ?</h2>\r\n          <Button to='/places/new'>Share place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {items.map(place => (\r\n        <PlaceItem key={place.id} place={place} onDeletePlace={onDeletePlace}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport \"./UserPlaces.css\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport {\r\n  Select,\r\n  Checkbox,\r\n  MenuItem,\r\n  Grid,\r\n  Container,\r\n  Paper,\r\n  InputBase,\r\n  IconButton,\r\n  FormControlLabel,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { PLACE_TAGS } from \"../../shared/Util/constants\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 5,\r\n  },\r\n  centerd: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  end: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  selectStyle: {\r\n    background: \"white\",\r\n    width: \"100%\",\r\n    padding: \"4px\",\r\n    borderRadius: \"4px\",\r\n  },\r\n}));\r\n\r\nconst UserPlaces = () => {\r\n  const classes = useStyles();\r\n  const userId = useParams().userId;\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [places, setPlaces] = useState();\r\n  const [searchValue, setSearchValue] = useState(\" \");\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const [menuItemValue, setMenuItemValue] = useState();\r\n\r\n  const getPlaces = async () => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${\r\n          process.env.REACT_APP_BACKEND_URL\r\n        }/places/user/${userId}/?sortBy=${sortBy}&tagFilter=${tags.join(\",\")}`\r\n      );\r\n      setPlaces(data.userWithPlaces);\r\n    } catch (error) {}\r\n  };\r\n  useEffect(() => {\r\n    getPlaces();\r\n    // eslint-disable-next-line\r\n  }, [sendRequest, userId, sortBy, tags]);\r\n  const placeDeleteHandler = (detetedPlaceId) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((places) => places.id !== detetedPlaceId)\r\n    );\r\n  };\r\n  const searchPlaces = async (searchValue) => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/places/?search=${searchValue}`\r\n      );\r\n      setPlaces(data.places);\r\n    } catch (error) {}\r\n  };\r\n\r\n  const getError = (err) => {\r\n    if (!places && auth.userId !== userId) {\r\n      return (\r\n        <h2 className=\"center gray-text fade-in-faster\">\r\n          There is no place shared by this user\r\n        </h2>\r\n      );\r\n    }\r\n    if (!places && auth.userId === userId) {\r\n      return (\r\n        <Fragment>\r\n          <h2 className=\"center gray-text fade-in-faster\">\r\n            You don't have any shared places. Would you like to add one?\r\n          </h2>\r\n          <div className=\"center fade-in-faster\">\r\n            <Button inverse to=\"/places/new\">\r\n              ADD A PLACE\r\n            </Button>\r\n          </div>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return <h2>{err}</h2>;\r\n    }\r\n  };\r\n\r\n  //sort on selected option below\r\n  const sortByTitleRateDate = (event) => {\r\n    const menuItemValue = event.target.value;\r\n\r\n    if (menuItemValue === \"rate\") setSortBy(\"rate\");\r\n    if (menuItemValue === \"title\") setSortBy(\"title\");\r\n    if (menuItemValue === \"created_at\") setSortBy(\"created_at\");\r\n    setMenuItemValue(menuItemValue);\r\n  };\r\n\r\n  const handleTagChange = (event) => {\r\n    const tagName = event.target.name;\r\n    const checked = event.target.checked;\r\n\r\n    if (checked) {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName) ? oldTags : [...oldTags, tagName];\r\n      });\r\n    } else {\r\n      setTags((oldTags) => {\r\n        return oldTags.includes(tagName)\r\n          ? oldTags.filter((tag) => tag !== tagName)\r\n          : oldTags;\r\n      });\r\n    }\r\n  };\r\n\r\n  if (error)\r\n    return (\r\n      <ErrorModal\r\n        error={getError(error)}\r\n        header=\"Hello there!\"\r\n        onClear={clearError}\r\n      />\r\n    );\r\n\r\n  const tagInputs = [];\r\n\r\n  PLACE_TAGS.forEach((tag) => {\r\n    const checked = tags.includes(tag.name);\r\n    const tagInput = (\r\n      <FormControlLabel\r\n        key={tag.name}\r\n        control={\r\n          <Checkbox\r\n            checked={checked}\r\n            onChange={handleTagChange}\r\n            name={tag.name}\r\n          />\r\n        }\r\n        label={tag.title}\r\n      />\r\n    );\r\n    tagInputs.push(tagInput);\r\n  });\r\n\r\n  const onSubmitSearchHandler = (e) => {\r\n    e.preventDefault();\r\n    searchPlaces(searchValue);\r\n  };\r\n  const inputSearchHandler = (e) => {\r\n    setSearchValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"place-overlay-container fade-in\">\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && places && (\r\n        <Container maxWidth=\"md\">\r\n          <Grid className={classes.centerd} container spacing={3}>\r\n            <Grid item md={4} xs={12} sm={3}>\r\n              <Select\r\n                onChange={sortByTitleRateDate}\r\n                defaultValue=\"none\"\r\n                className={classes.selectStyle}\r\n                value={menuItemValue}\r\n              >\r\n                <MenuItem value=\"none\" disabled>\r\n                  Choose an option to Sort\r\n                </MenuItem>\r\n                <MenuItem value=\"rate\">Sort By Rate</MenuItem>\r\n                <MenuItem value=\"title\">Sort By Title</MenuItem>\r\n                <MenuItem value=\"created_at\">Sort By Adding Date</MenuItem>\r\n              </Select>\r\n            </Grid>\r\n            <Grid item md={4} xs={12} sm={3}>\r\n              <Paper\r\n                component=\"form\"\r\n                className={classes.root}\r\n                onSubmit={onSubmitSearchHandler}\r\n              >\r\n                <InputBase\r\n                  className={classes.input}\r\n                  placeholder=\"Search\"\r\n                  inputProps={{ \"aria-label\": \"\" }}\r\n                  value={searchValue}\r\n                  onChange={inputSearchHandler}\r\n                />\r\n                <IconButton\r\n                  type=\"submit\"\r\n                  className={classes.iconButton}\r\n                  aria-label=\"search\"\r\n                >\r\n                  <SearchIcon />\r\n                </IconButton>\r\n              </Paper>\r\n            </Grid>\r\n            <FormGroup>\r\n              <Paper>{tagInputs}</Paper>\r\n            </FormGroup>\r\n            <PlaceList items={places} onDeletePlace={placeDeleteHandler} />\r\n          </Grid>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React, { useContext, Fragment } from \"react\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./MessageItem.css\";\r\n\r\nconst MessageItem = ({ msg, messageDeleteHandler, getUserMessages, contacts }) => {\r\n  const message = useContext(MessageContext);\r\n  const { sendRequest } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n\r\n  const delMessage = async (userId, msgId) => {\r\n    await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/user/messages/${userId}/${msgId}`,\r\n      \"DELETE\",\r\n      null,\r\n      {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    );\r\n\r\n    messageDeleteHandler(msgId);\r\n    getUserMessages(userId);\r\n  };\r\n  const formatDate = (date) => {\r\n    const d1 = new Date(date);\r\n    return d1.toLocaleString(\"en-NL\");\r\n  };\r\n\r\n  return (\r\n    <div key={msg._id} className={`mContainer ${msg.isSent ? \"myMsg\" : \"userMsg\"}`}>\r\n      <div className={`msgInfo ${msg.isSent ? \"toRyt\" : \"toLeft\"}`}>\r\n        {msg.isSent ? (\r\n          <Fragment>\r\n            <p>{formatDate(msg.date)}</p>\r\n\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n          </Fragment>\r\n        ) : (\r\n          <Fragment>\r\n            <button onClick={() => delMessage(message.id, msg._id)}>x</button>\r\n            <p>{formatDate(msg.date)}</p>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n      <p>{msg.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;\r\n","import React, { useContext, useState, useEffect, useRef, useCallback } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport \"./Messages.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MessageContext } from \"../../shared/context/message-context\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport MessageItem from \"../components/MessageItem\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\n\r\nconst Messages = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { token } = useContext(AuthContext);\r\n  const message = useContext(MessageContext);\r\n  const [allMessages, setAllMessages] = useState(message.messagesData);\r\n  const [mobileContactMode, setMobileContactMode] = useState(true);\r\n  const [textedUser, setTextedUser] = useState(message.textedUser);\r\n\r\n  // scroll to the bottom of the messages box\r\n  const myScrollRef = useRef();\r\n  const scrollToBottom = () => {\r\n    myScrollRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  const [state, inputHandler] = useFrom(\r\n    {\r\n      message: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false,\r\n  );\r\n\r\n  // fetching contacts (only texted ones not all users)\r\n  const fetchContacts = async () => {\r\n    try {\r\n      const data = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      );\r\n      setContacts(data.corresponders);\r\n      scrollToBottom();\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n  }, [sendRequest, token, message.textedUser]);\r\n\r\n  // Send a message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    const corresponderId = message.id;\r\n    const messageValue = state.inputs.message.value;\r\n    try {\r\n      const res = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"POST\",\r\n        JSON.stringify({\r\n          message: messageValue,\r\n        }),\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      );\r\n      setAllMessages([...allMessages, { message: messageValue, isSent: true, _id: res.messageId }]);\r\n      scrollToBottom();\r\n      getUserMessages(corresponderId);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Get all messages as per the texted person\r\n  const getUserMessages = async (id) => {\r\n    const corresponderId = id;\r\n\r\n    try {\r\n      // console.log(textedUser);\r\n      const fetchedMessages = await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${corresponderId}`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      );\r\n      fetchContacts();\r\n      setAllMessages(fetchedMessages.messages);\r\n\r\n      message.id = corresponderId;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Delete a corresponder\r\n  const dltCorresponder = async (id) => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/messages/${id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      );\r\n      const filteredContacts = contacts.filter((contact) => contact._id !== id);\r\n      setContacts(filteredContacts);\r\n      if (id === message.id) {\r\n        setTextedUser(\"\");\r\n        message.textedUser = \"\";\r\n      }\r\n      setAllMessages([]);\r\n      fetchContacts();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const messageDeleteHandler = (deletedMsgId) => {\r\n    setAllMessages((prevAllMessages) => prevAllMessages.filter((msg) => msg.id !== deletedMsgId));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n\r\n      {!isLoading && (\r\n        <Card className=\"messages__card\">\r\n          {/* Contacts */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `contacts__container contact__container-mobile`\r\n                : `contacts__container contact__container-hidden`\r\n            }\r\n          >\r\n            <h2 className=\"header\">Recent</h2>\r\n            <div className=\"contacts__box\">\r\n              {contacts.length > 0 &&\r\n                contacts.map((contact) => (\r\n                  <Card\r\n                    className=\"user-item__content\"\r\n                    key={contact.corresponder._id}\r\n                    className={`user-item__content ${\r\n                      message.id === contact.corresponder._id && \"activatedContact\"\r\n                    }`}\r\n                  >\r\n                    <div\r\n                      onClick={() => {\r\n                        getUserMessages(contact.corresponder._id);\r\n                        if (contact.corresponder) {\r\n                          setTextedUser(contact.corresponder.name);\r\n                          message.textedUser = contact.corresponder.name;\r\n                        }\r\n                        setMobileContactMode(false);\r\n                      }}\r\n                      className={`cardWidth`}\r\n                    >\r\n                      <div className=\"user-item__image m-1\">\r\n                        <Avatar\r\n                          image={contact.corresponder.image}\r\n                          alt={contact.corresponder.name}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"user-item__info m-1\">\r\n                      <h3>{contact.corresponder.name}</h3>\r\n                    </div>\r\n                    <button onClick={() => dltCorresponder(contact.corresponder._id)}>X</button>\r\n                  </Card>\r\n                ))}\r\n            </div>\r\n            <div className=\"innerBox\">\r\n              {contacts.length === 0 && (\r\n                <Link className=\"link-text\" to=\"/\">\r\n                  Text a user!\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div\r\n            className={\r\n              mobileContactMode\r\n                ? `message__box message__box-hidden`\r\n                : `message__box message__box-mobile`\r\n            }\r\n          >\r\n            <h2 className=\"header\">{`Messages ${textedUser && `with ${textedUser}`}`}</h2>\r\n            <a\r\n              onClick={() => {\r\n                setMobileContactMode(true);\r\n              }}\r\n              className=\"mobile-hidden\"\r\n            >\r\n              BACK\r\n            </a>\r\n            <div className=\"msgsContainer\">\r\n              {allMessages.length > 0 ? (\r\n                allMessages.map((msg, i) => (\r\n                  <MessageItem\r\n                    key={i}\r\n                    msg={msg}\r\n                    messageDeleteHandler={messageDeleteHandler}\r\n                    getUserMessages={getUserMessages}\r\n                    contacts={contacts}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div>Start a message!</div>\r\n              )}\r\n              <div ref={myScrollRef}></div>\r\n            </div>\r\n\r\n            <form onSubmit={sendMessage}>\r\n              <Input\r\n                id=\"message\"\r\n                element=\"input\"\r\n                type=\"text\"\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Please enter your message\"\r\n                onInput={inputHandler}\r\n              />\r\n              <Button type=\"submit\">Send</Button>\r\n            </form>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Messages;\r\n","import React, { useState, useContext, Fragment } from \"react\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport Modal from \"../../shared/component/UIElements/Modal\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketListItem.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nconst BucketListItem = ({ bucket, deleteBucket }) => {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [visitStyle, setVisitStyle] = useState(bucket.isVisited);\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { id } = bucket;\r\n  const { userId } = useParams();\r\n  const openDetailsHandler = () => {\r\n    setShowDetails(true);\r\n  };\r\n  const closeDetailsHandler = () => {\r\n    setShowDetails(false);\r\n  };\r\n\r\n  const deleteFromBucketList = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n      deleteBucket(bucket.id._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const visitedPlace = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist/${bucket.id._id}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n  if (error) return <ErrorModal error={error} onClear={clearError} />;\r\n  return (\r\n    <Fragment>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n\r\n      <div className=\"bucket-list-item no-select\">\r\n        <Modal\r\n          show={showDetails}\r\n          onCancel={closeDetailsHandler}\r\n          header={bucket.name}\r\n          contentClass=\"place-item__modal-content\"\r\n          footerClass=\"place-item__actions\"\r\n          footer={<Button onClick={closeDetailsHandler}>Close</Button>}\r\n        >\r\n          <div className=\"detail-item\">\r\n            <div className=\"bucket-image\">\r\n              <img\r\n                style={{ width: \"100%\" }}\r\n                src={id.image.imageUrl}\r\n                alt=\"bucket-place\"\r\n              ></img>\r\n            </div>\r\n\r\n            <div className=\"bucket-info\">\r\n              <p style={{ fontSize: \"1.5em\" }}>{id.title}</p>\r\n              <p>{id.description}</p>\r\n              <p>Address: {id.address}</p>\r\n              <p className=\"bucket-creator\">\r\n                {\" \"}\r\n                <strong>Shared by:</strong>{\" \"}\r\n                <Link to={`/${id.creator}/places`}>{bucket.createdBy}</Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n        <p style={{ textDecoration: visitStyle ? \"line-through\" : \"none\" }}>\r\n          {bucket && bucket.id.title}\r\n        </p>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            danger\r\n            onClick={() => {\r\n              deleteFromBucketList();\r\n            }}\r\n          >\r\n            Delete\r\n          </Button>\r\n        )}\r\n\r\n        <Button size=\"mobile\" onClick={() => openDetailsHandler()}>\r\n          Show Details\r\n        </Button>\r\n        {userId === auth.userId && (\r\n          <Button\r\n            size=\"mobile\"\r\n            inverse\r\n            onClick={() => {\r\n              setVisitStyle(!visitStyle);\r\n              visitedPlace();\r\n            }}\r\n          >\r\n            {visitStyle ? \"Not Visited\" : \"Visited\"}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default BucketListItem;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport BucketListItem from \"./BucketListItem\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport \"./BucketList.css\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\n\r\nconst BucketList = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [places, setPlaces] = useState();\r\n  const { userId } = useParams();\r\n  const auth = useContext(AuthContext);\r\n  const deleteFromBucketList = (id) => {\r\n    setPlaces((prevPlaces) =>\r\n      prevPlaces.filter((place) => place.id._id !== id)\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    const getBucketList = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/user/bucketlist?q=${userId}`\r\n        );\r\n        setPlaces(data.userWithBucketList);\r\n      } catch (err) {}\r\n    };\r\n    getBucketList();\r\n  }, [sendRequest, userId]);\r\n  const [user, setUser] = useState();\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}/`\r\n        );\r\n        setUser(data);\r\n      } catch (err) {}\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  if (error) {\r\n    return <ErrorModal error={error} onClear={clearError} header={`Hey!`} />;\r\n  }\r\n  if (isLoading)\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  else {\r\n    return (\r\n      <div>\r\n        {userId === auth.userId && (\r\n          <div className=\"share-box  no-select\">\r\n            <div className=\"share-button\">\r\n              <a\r\n                href={`https://twitter.com/intent/tweet?url=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}&text=My+Travel+Bucket+List%2C+Connect+and+Explore.&hashtags=travelling,wanderlust,yourplacesapp`}\r\n              >\r\n                <i className=\"fab fa-twitter-square\"></i>\r\n              </a>\r\n              <a\r\n                href={`https://www.facebook.com/sharer.php?u=${encodeURIComponent(\r\n                  `${process.env.REACT_APP_PUBLIC_URL}/${userId}/bucketlist`\r\n                )}`}\r\n              >\r\n                <i className=\"fab fa-facebook-square\"></i>\r\n              </a>\r\n            </div>\r\n            <p>SHARE</p>\r\n          </div>\r\n        )}\r\n        <React.Fragment>\r\n          <div className=\"bucket-list-content\">\r\n            <div className=\"m-b-2\">\r\n              <h2 className=\" white-text fade-in no-select center\">\r\n                Bucket List of{\" \"}\r\n                <span className=\"m-05 yellow-text\">\r\n                  {\" \"}\r\n                  {user && user.user.name}\r\n                </span>{\" \"}\r\n              </h2>\r\n            </div>\r\n            {places && places.length === 0 && auth.userId === userId && (\r\n              <h2\r\n                className=\"center white-text fade-in\"\r\n                style={{ flexDirection: \"column\" }}\r\n              >\r\n                You don't have any places in your bucket list. Maybe check some\r\n                places?\r\n                <Link to=\"/\"> Go to home</Link>\r\n              </h2>\r\n            )}\r\n            {auth.userId !== userId && places && places.length === 0 && (\r\n              <h2 className=\"center white-text fade-in\">\r\n                This user does not have any places in their bucket list\r\n              </h2>\r\n            )}\r\n\r\n            {places &&\r\n              places.map((bucket, index) => {\r\n                return (\r\n                  <BucketListItem\r\n                    bucket={bucket}\r\n                    key={index}\r\n                    index={index}\r\n                    deleteBucket={deleteFromBucketList}\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default BucketList;\r\n","import React, { useState, useContext, Fragment } from \"react\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { useFrom } from \"../../shared/hooks/form-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/Util/validators\";\r\n\r\nimport Card from \"../../shared/component/UIElements/Card\";\r\nimport Avatar from \"../../shared/component/UIElements/Avatar\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport Input from \"../../shared/component/formElements/Input\";\r\nimport Button from \"../../shared/component/formElements/Button\";\r\nimport ImageUpload from \"../../shared/component/formElements/ImageUpload\";\r\n\r\nimport \"./UserProfile.css\";\r\nconst UserProfile = ({ user, setUser, notifications }) => {\r\n  const { userId, token } = useContext(AuthContext);\r\n  const [editImage, setEditImage] = useState(false);\r\n  const [editName, setEditName] = useState(false);\r\n  const [notStyle, setNotStyle] = useState(false);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const { name, image } = user;\r\n  const [state, inputHandler, setFormData] = useFrom(\r\n    {\r\n      email: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const switchModelHandler = () => {\r\n    if (editImage) {\r\n      setFormData(\r\n        {\r\n          image: {\r\n            value: null,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else if (editName) {\r\n      setFormData(\r\n        {\r\n          name: {\r\n            value: name,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          email: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n          password: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n  };\r\n\r\n  const changeEditName = () => {\r\n    setEditName((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n  const changeEditImage = () => {\r\n    setEditImage((currentMode) => !currentMode);\r\n    switchModelHandler();\r\n  };\r\n\r\n  const authSubmitHandler = async () => {\r\n    if (editName) {\r\n      try {\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          JSON.stringify({\r\n            name: state.inputs.name.value,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditName(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    } else {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", state.inputs.image.value);\r\n\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n          \"PATCH\",\r\n          formData,\r\n          {\r\n            Authorization: `Bearer ${token}`,\r\n          }\r\n        );\r\n        setEditImage(false);\r\n        setUser(res.user);\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const notificationHandler = async () => {\r\n    try {\r\n      await sendRequest(\r\n        `${process.env.REACT_APP_BACKEND_URL}/users/notifications/${userId}`,\r\n        \"PUT\",\r\n        null,\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        }\r\n      );\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile fade-in no-select\">\r\n      {isLoading && <LoadingSpinner />}\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {!isLoading && (\r\n        <Card className=\"profile__card\">\r\n          {!editName && (\r\n            <React.Fragment>\r\n              {editImage ? (\r\n                <ImageUpload\r\n                  center\r\n                  id={\"image\"}\r\n                  onInput={inputHandler}\r\n                  errorText=\"Please provide an image\"\r\n                />\r\n              ) : (\r\n                <Avatar image={image} className=\"profile__avatar\" />\r\n              )}\r\n              {editImage && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditImage}>\r\n                {editImage ? \"Cancel\" : \"Change Image\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n          {!editImage && (\r\n            <React.Fragment>\r\n              {editName ? (\r\n                <Input\r\n                  id=\"name\"\r\n                  element=\"input\"\r\n                  type=\"text\"\r\n                  label=\"Your Name\"\r\n                  validators={[VALIDATOR_REQUIRE()]}\r\n                  errorText=\"Please enter a valid name\"\r\n                  onInput={inputHandler}\r\n                />\r\n              ) : (\r\n                <h4>{name}</h4>\r\n              )}\r\n              {editName && (\r\n                <Button inverse onClick={authSubmitHandler}>\r\n                  Save\r\n                </Button>\r\n              )}\r\n              <Button onClick={changeEditName}>\r\n                {editName ? \"Cancel\" : \"Edit Name\"}\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </Card>\r\n      )}\r\n      {user && (\r\n        <div className=\"notification-box card\">\r\n          {!notStyle && (\r\n            <Fragment>\r\n              <p>Do You Want To Receive E-mail Notifications?</p>\r\n              <Button\r\n                onClick={() => {\r\n                  setNotStyle(true);\r\n                  notificationHandler();\r\n                }}\r\n              >\r\n                {notifications ? \"TURN OFF\" : \"TURN ON\"}\r\n              </Button>\r\n            </Fragment>\r\n          )}\r\n          {notStyle && (\r\n            <p className=\"fade-in\">\r\n              Your notification preference has been changed.\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState, useContext, Fragment } from \"react\";\r\nimport ErrorModal from \"../../shared/component/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/component/UIElements/LoadingSpinner\";\r\nimport useHttpClient from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from \"react-router-dom\";\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport Messages from \"../pages/Messages\";\r\nimport UserPlaces from \"../../places/pages/UserPlaces\";\r\nimport Users from \"../../users/pages/Users\";\r\nimport UserProfileNav from \"../components/UserProfileNav\";\r\nimport BucketList from \"../../places/components/BucketList\";\r\nimport Friends from \"../../friends/pages/Friends\";\r\nimport \"./User.css\";\r\n\r\nconst User = () => {\r\n  const { userId } = useContext(AuthContext);\r\n  const [user, setUser] = useState({});\r\n  const [notifications, setNotifications] = useState();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`);\r\n        setUser(data.user);\r\n        setNotifications(data.user.notifications);\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [sendRequest, userId]);\r\n\r\n  return <UserProfile user={user} setUser={setUser} notifications={notifications} />\r\n\r\n     \r\n};\r\n\r\nexport default User;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n"],"sourceRoot":""}