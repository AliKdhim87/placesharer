(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{100:function(e,t,a){},101:function(e,t,a){},105:function(e,t,a){},111:function(e,t,a){},114:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(119);t.a=function(e){var t=e.image,a=e.alt,n=e.style,c=e.className,l=e.width;return r.a.createElement("div",{className:"avatar ".concat(c),style:n},r.a.createElement("img",{src:t,alt:a,style:{width:l,height:l}}))}},119:function(e,t,a){},127:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),l=a(16),s=a.n(l),o=a(22),i=a(4),u=a(13),m=a(114),d=a(99),f=(a(111),a(35)),E=a(97),h=a(136),p=a(220),g=a(151),v=Object(p.a)(g.a)({background:"#ff0055",border:0,font:"inherit",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:40,width:175,padding:"10px"});function b(e){return c.a.createElement(v,null,e.children)}var y=a(42),x=function(e){var t=e.user,a=e.userData,n=e.auth,l=e.sendFriendRequestHandler,p=Object(f.a)(),g=p.isLoading,v=p.error,x=p.sendRequest,N=p.clearError,C=t.id,k=t.image,O=t.name,w=t.places,j=Object(r.useContext)(y.a),_=function(){var e=a.friends?a.friends.filter((function(e){return e.id===C})):[],t=a.friendRequests?a.friendRequests.filter((function(e){return e.user.id===C})):[],r=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("".concat("https://placesharer.herokuapp.com/api","/user/friends"),"POST",JSON.stringify({friendId:t}),{Authorization:"Bearer "+n.token,"Content-Type":"application/json"});case 3:l(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return n.isLoggedIn?e.length>0?c.a.createElement(b,{variant:"contained",color:"secondary"},"FRIEND"):t.length>0?t[0].isSent?c.a.createElement(b,null,"Requested"):c.a.createElement(b,{variant:"contained",color:"secondary"},"Friend request"):C===a.userId?c.a.createElement(c.a.Fragment,null):c.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return r(C)}},"Add Friend"):c.a.createElement(c.a.Fragment,null)},S=function(){var e=Object(u.g)(),a=function(){var a=Object(o.a)(s.a.mark((function a(){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.id,a.prev=1,a.next=4,x("".concat("https://placesharer.herokuapp.com/api","/user/messages/").concat(r),"GET",null,{Authorization:"Bearer "+n.token});case 4:c=a.sent,j.messagesData=c.messages,j.id=r,e.push("/".concat(n.userId,"/messages")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(){return a.apply(this,arguments)}}();return c.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){a(),j.textedUser=O}},"Message")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{error:v,onClear:N}),c.a.createElement("li",{className:"user-item"},c.a.createElement(d.a,{className:"user-item__content"},c.a.createElement(i.b,{className:"user-holder",to:"/".concat(C,"/places")},c.a.createElement("div",{className:"user-item__image"},c.a.createElement(m.a,{image:k,alt:O})),c.a.createElement("div",{className:"user-item__info"},c.a.createElement("h2",null,O),c.a.createElement("h3",null,w.length," ",1===w.length?"Place":"Places"))),n.isLoggedIn&&c.a.createElement("div",{className:"user-item__icon"},c.a.createElement(i.b,{to:"/".concat(C,"/bucketlist")},c.a.createElement("img",{src:"/images/bucketicon.png",style:{width:"100%"},alt:""})))),!g&&a&&C!==n.userId&&c.a.createElement("div",{className:"flex"},c.a.createElement(_,null),c.a.createElement(S,null))))},N=a(196),C=a(197),k=(a(127),function(e){var t=e.items,a=e.userData,n=e.auth,r=e.sendFriendRequestHandler;return 0===t.length?c.a.createElement(N.a,{container:!0},c.a.createElement(N.a,{item:!0,md:12},c.a.createElement(g.a,null,c.a.createElement(C.a,{style:{textAlign:"center"},variant:"h6"},"No users found")))):c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"users-list users-mobile"},t.filter((function(e){return e._id!==n.userId})).map((function(e){return c.a.createElement(x,{user:e,auth:n,userData:a,sendFriendRequestHandler:r,key:e.id})}))))}),O=a(36),w=a(27),j=a(10),_=a(207),S=a(216),F=a(199),R=a(195),q=a(217),I=a(152),D=a(140),P=a.n(D),B=a(198),z=a(208),A=Object(B.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:5},centerd:{display:"flex",justifyContent:"center"},end:{display:"flex",justifyContent:"flex-end"},selectStyle:{background:"white",width:"100%",padding:"4px",borderRadius:"4px"}}}));t.default=function(){var e=Object(r.useContext)(w.a),t=e.isLoading,a=e.error,l=e.clearError,s=e.users,o=e.user,i=e.setSortBy,u=e.sendFriendRequestHandler,m=e.getUsers,d=e.totalPages,f=e.currentPage,h=e.setCurrentPage,p=A(),g=Object(r.useState)(""),v=Object(n.a)(g,2),b=v[0],y=v[1],x=Object(r.useState)(),C=Object(n.a)(x,2),D=C[0],B=C[1],H=Object(r.useContext)(j.a);return c.a.createElement(r.Fragment,null,c.a.createElement(E.a,{error:a,onClear:l}),t&&c.a.createElement("div",{className:"center"},c.a.createElement(O.a,null)),!t&&s&&c.a.createElement(F.a,{maxWidth:"md"},c.a.createElement(N.a,{className:p.centerd,container:!0,spacing:3},c.a.createElement(N.a,{item:!0,md:3,xs:12,sm:3},c.a.createElement(_.a,{onChange:function(e){var t=e.target.value;"name"===t&&i("name"),"placesCount"===t&&i("-placesCount"),"registration"===t&&i("-created_at"),B(t)},defaultValue:"none",className:p.selectStyle,value:D},c.a.createElement(S.a,{value:"none",disabled:!0},"Sort by"),c.a.createElement(S.a,{value:"name"},"Name"),c.a.createElement(S.a,{value:"placesCount"},"Places Count"),c.a.createElement(S.a,{value:"registration"},"Registration Date"))),c.a.createElement(N.a,{item:!0,md:3,xs:12,sm:3},c.a.createElement(R.a,{component:"form",className:p.root,onSubmit:function(e){e.preventDefault(),m(b)}},c.a.createElement(q.a,{className:p.input,placeholder:" Search users",inputProps:{"aria-label":""},value:b,onChange:function(e){y(e.target.value)}}),c.a.createElement(I.a,{type:"submit",className:p.iconButton,"aria-label":"search"},c.a.createElement(P.a,null)))),c.a.createElement(k,{items:s,userData:o,auth:H,sendFriendRequestHandler:u})),c.a.createElement(z.a,{className:p.centerd,color:"secondary",count:d,page:f,onChange:function(e,t){h(t)}})))}},96:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(4);a(101);t.a=function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(c.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,id:e.id},e.children)}},97:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(98),l=a(96);t.a=function(e){var t=e.error,a=e.onClear,n=e.header;return r.a.createElement(c.a,{onCancel:a,header:n||"An Error Occurred!!!",show:!!t,footer:r.a.createElement(l.a,{onClick:a},"Okay")},r.a.createElement("div",null,t))}},98:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(12),l=a.n(c),s=(a(100),a(93)),o=a(37),i=function(e){var t=r.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return l.a.createPortal(t,document.getElementById("modal-hook"))};t.a=function(e){return r.a.createElement(n.Fragment,null,e.show&&r.a.createElement(o.a,{onClick:e.onCancel}),r.a.createElement(s.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(i,e)))}},99:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(105);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}}}]);
//# sourceMappingURL=15.4990c18a.chunk.js.map